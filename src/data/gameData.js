// ä»™ä¿®å¢ƒç•Œ - å¹³è¡¡å‹ï¼šç”Ÿå‘½+5% æ”»å‡»+5% é˜²å¾¡+5%
export const xianRealms = [
  { id: 1, name: 'å‡¡äºº', minExp: 0, hpBonus: 0, attackBonus: 0, defenseBonus: 0, lifestealBonus: 0, healBonus: 0, healReceivedBonus: 0 },
  { id: 2, name: 'ç‚¼æ°”æœŸ', minExp: 4500, hpBonus: 5, attackBonus: 5, defenseBonus: 5, lifestealBonus: 0, healBonus: 0, healReceivedBonus: 0 },
  { id: 3, name: 'ç­‘åŸºæœŸ', minExp: 18000, hpBonus: 10, attackBonus: 10, defenseBonus: 10, lifestealBonus: 0, healBonus: 0, healReceivedBonus: 0 },
  { id: 4, name: 'é‡‘ä¸¹æœŸ', minExp: 75000, hpBonus: 15, attackBonus: 15, defenseBonus: 15, lifestealBonus: 0, healBonus: 0, healReceivedBonus: 0 },
  { id: 5, name: 'å…ƒå©´æœŸ', minExp: 300000, hpBonus: 20, attackBonus: 20, defenseBonus: 20, lifestealBonus: 0, healBonus: 0, healReceivedBonus: 0 },
  { id: 6, name: 'åŒ–ç¥æœŸ', minExp: 1050000, hpBonus: 25, attackBonus: 25, defenseBonus: 25, lifestealBonus: 0, healBonus: 0, healReceivedBonus: 0 },
  { id: 7, name: 'ç‚¼è™šæœŸ', minExp: 3600000, hpBonus: 30, attackBonus: 30, defenseBonus: 30, lifestealBonus: 0, healBonus: 0, healReceivedBonus: 0 },
  { id: 8, name: 'åˆä½“æœŸ', minExp: 12000000, hpBonus: 35, attackBonus: 35, defenseBonus: 35, lifestealBonus: 0, healBonus: 0, healReceivedBonus: 0 },
  { id: 9, name: 'å¤§ä¹˜æœŸ', minExp: 36000000, hpBonus: 40, attackBonus: 40, defenseBonus: 40, lifestealBonus: 0, healBonus: 0, healReceivedBonus: 0 },
  { id: 10, name: 'æ¸¡åŠ«æœŸ', minExp: 105000000, hpBonus: 45, attackBonus: 45, defenseBonus: 45, lifestealBonus: 0, healBonus: 0, healReceivedBonus: 0 },
  { id: 11, name: 'çœŸä»™', minExp: 300000000, hpBonus: 50, attackBonus: 50, defenseBonus: 50, lifestealBonus: 0, healBonus: 0, healReceivedBonus: 0 },
  { id: 12, name: 'å¤©ä»™', minExp: 900000000, hpBonus: 55, attackBonus: 55, defenseBonus: 55, lifestealBonus: 0, healBonus: 0, healReceivedBonus: 0 }
]

// é­”ä¿®å¢ƒç•Œ - æ”»å‡»å‹ï¼šç”Ÿå‘½+2% æ”»å‡»+8% é˜²å¾¡+0% å¸è¡€+2%
export const moRealms = [
  { id: 1, name: 'å‡¡äºº', minExp: 0, hpBonus: 0, attackBonus: 0, defenseBonus: 0, lifestealBonus: 0, healBonus: 0, healReceivedBonus: 0 },
  { id: 2, name: 'å‡ç…æœŸ', minExp: 4500, hpBonus: 2, attackBonus: 8, defenseBonus: 0, lifestealBonus: 2, healBonus: 0, healReceivedBonus: 0 },
  { id: 3, name: 'é­”ç«¥æœŸ', minExp: 18000, hpBonus: 4, attackBonus: 16, defenseBonus: 0, lifestealBonus: 4, healBonus: 0, healReceivedBonus: 0 },
  { id: 4, name: 'é­”ä¸¹æœŸ', minExp: 75000, hpBonus: 6, attackBonus: 24, defenseBonus: 0, lifestealBonus: 6, healBonus: 0, healReceivedBonus: 0 },
  { id: 5, name: 'é­”å©´æœŸ', minExp: 300000, hpBonus: 8, attackBonus: 32, defenseBonus: 0, lifestealBonus: 8, healBonus: 0, healReceivedBonus: 0 },
  { id: 6, name: 'åŒ–é­”æœŸ', minExp: 1050000, hpBonus: 10, attackBonus: 40, defenseBonus: 0, lifestealBonus: 10, healBonus: 0, healReceivedBonus: 0 },
  { id: 7, name: 'ç‚¼åŸŸæœŸ', minExp: 3600000, hpBonus: 12, attackBonus: 48, defenseBonus: 0, lifestealBonus: 12, healBonus: 0, healReceivedBonus: 0 },
  { id: 8, name: 'è‡ªåœ¨æœŸ', minExp: 12000000, hpBonus: 14, attackBonus: 56, defenseBonus: 0, lifestealBonus: 14, healBonus: 0, healReceivedBonus: 0 },
  { id: 9, name: 'çœŸé­”æœŸ', minExp: 36000000, hpBonus: 16, attackBonus: 64, defenseBonus: 0, lifestealBonus: 16, healBonus: 0, healReceivedBonus: 0 },
  { id: 10, name: 'é€†åŠ«æœŸ', minExp: 105000000, hpBonus: 18, attackBonus: 72, defenseBonus: 0, lifestealBonus: 18, healBonus: 0, healReceivedBonus: 0 },
  { id: 11, name: 'çœŸé­”', minExp: 300000000, hpBonus: 20, attackBonus: 80, defenseBonus: 0, lifestealBonus: 20, healBonus: 0, healReceivedBonus: 0 },
  { id: 12, name: 'ç„é­”', minExp: 900000000, hpBonus: 22, attackBonus: 88, defenseBonus: 0, lifestealBonus: 22, healBonus: 0, healReceivedBonus: 0 }
]

// å…¼å®¹æ—§ä»£ç ï¼Œé»˜è®¤ä½¿ç”¨ä»™ä¿®
export const realms = xianRealms

// è£…å¤‡å“è´¨
export const qualityConfig = {
  white: { name: 'æ™®é€š', color: '#ffffff', statMultiplier: 1, dropRate: 50 },
  green: { name: 'ä¼˜ç§€', color: '#2ecc71', statMultiplier: 1.3, dropRate: 30 },
  blue: { name: 'ç²¾è‰¯', color: '#3498db', statMultiplier: 1.7, dropRate: 15 },
  purple: { name: 'å²è¯—', color: '#9b59b6', statMultiplier: 2.2, dropRate: 4 },
  orange: { name: 'ä¼ è¯´', color: '#e67e22', statMultiplier: 3, dropRate: 1 }
}

// è£…å¤‡æ§½ä½
export const equipSlots = {
  weapon: { name: 'æ­¦å™¨', icon: 'âš”ï¸' },
  armor: { name: 'è¡£æœ', icon: 'ğŸ‘˜' },
  helmet: { name: 'å¤´é¥°', icon: 'ğŸ‘‘' },
  ring: { name: 'æˆ’æŒ‡', icon: 'ğŸ’' },
  necklace: { name: 'é¡¹é“¾', icon: 'ğŸ“¿' },
  boots: { name: 'é‹å­', icon: 'ğŸ‘¢' },
  artifact: { name: 'æ³•å®', icon: 'ğŸ”®' }
}

// æ­¦å™¨ç±»å‹ - 3ç§ç‰¹è‰²æ­¦å™¨
export const weaponTypes = {
  sword: {
    name: 'å‰‘',
    description: 'å‰‘èµ°è½»çµï¼Œæš´å‡»è‡´å‘½',
    primaryStat: 'attack',
    secondaryStat: 'critRate',
    secondaryValue: 0.15,
    prefixes: ['é’é”‹', 'å¯’éœœ', 'ç´«ç”µ', 'èµ¤ç„°', 'ç„é“', 'ç ´æ™“', 'è£‚ç©º', 'æ–©é¾™', 'è¯›ä»™', 'ç­ä¸–']
  },
  blade: {
    name: 'åˆ€',
    description: 'åˆ€æ³•éœ¸é“ï¼Œæ— è§†é˜²å¾¡',
    primaryStat: 'attack',
    secondaryStat: 'penetration',
    secondaryValue: 0.12,
    prefixes: ['ç‹‚é£', 'éœ¸ç‹', 'è¡€æœˆ', 'è£‚å¤©', 'å± é¾™', 'é¬¼ç…', 'ä¿®ç½—', 'ç­ç¥', 'å¤©ç½š', 'æ··æ²Œ']
  },
  staff: {
    name: 'æ³•æ–',
    description: 'æ³•åŠ›ç²¾æ·±ï¼Œæš´å‡»è‡´å‘½',
    primaryStat: 'attack',
    secondaryStat: 'critDamage',
    secondaryValue: 0.3,
    prefixes: ['çµæœ¨', 'æ˜Ÿè¾°', 'æœˆå', 'æ—¥æ›œ', 'é›·éœ†', 'å†°é­„', 'ç‚çµ', 'è™šç©º', 'æ··å…ƒ', 'å¤ªæ']
  },
  hammer: {
    name: 'é”¤',
    description: 'é‡é”¤å‹åˆ¶ï¼Œé˜²å¾¡åŠ æˆ',
    primaryStat: 'attack',
    secondaryStat: 'defense',
    secondaryValue: 0.5,
    prefixes: ['çŸ³é”¤', 'é“é”¤', 'é’¢é”¤', 'ç„é“', 'é•‡å±±', 'ç¢å²³', 'è£‚åœ°', 'å¤©å´©', 'ç¥é”¤', 'å¼€å¤©']
  },
  shield: {
    name: 'ç›¾',
    description: 'ç›¾å«å·±èº«ï¼Œç”Ÿå‘½å€å¢',
    primaryStat: 'attack',
    secondaryStat: 'hp',
    secondaryValue: 3,
    prefixes: ['æœ¨ç›¾', 'é“ç›¾', 'é’¢ç›¾', 'ç„ç›¾', 'é‡‘ç›¾', 'æŠ¤å¿ƒ', 'é¾™é³', 'å¤©ç½¡', 'ä¸æœ½', 'æ°¸æ’']
  }
}

// è£…å¤‡åŸºç¡€å±æ€§æ¨¡æ¿ï¼ˆæ¯çº§å¢åŠ çš„å±æ€§ï¼‰
export const equipTemplates = {
  weapon: { attack: 3 },
  armor: { hp: 15, defense: 2 },
  helmet: { hp: 10, critResist: 0.1 },
  ring: { attack: 1.5, critDamage: 0.25 },
  necklace: { attack: 1, critDamage: 0.15, dropRate: 0.15 },
  boots: { dodge: 0.08, hit: 0.1 },
  artifact: { hp: 5, attack: 1, defense: 0.5, critRate: 0.03, dropRate: 0.1 }
}

// è£…å¤‡åç§°åç¼€
export const equipSuffixes = {
  armor: ['å¸ƒè¡£', 'çš®ç”²', 'é”ç”²', 'ç„ç”²', 'å®è¡£', 'ä»™è¢', 'ç¥è¡£', 'å¤©è¡£', 'åœ£è¢', 'æ··æ²Œè¡£'],
  helmet: ['å¸ƒå·¾', 'å¤´ç¯', 'å‘å† ', 'å®å† ', 'ä»™å† ', 'ç¥å†•', 'å¤©å† ', 'å¸å†•', 'åœ£å†•', 'æ··æ²Œå† '],
  ring: ['é“œæˆ’', 'é“¶æˆ’', 'é‡‘æˆ’', 'ç‰æˆ’', 'çµæˆ’', 'ä»™æˆ’', 'ç¥æˆ’', 'å¤©æˆ’', 'åœ£æˆ’', 'æ··æ²Œæˆ’'],
  necklace: ['éº»ç»³', 'é“œé“¾', 'é“¶é“¾', 'é‡‘é“¾', 'ç‰é“¾', 'çµé“¾', 'ä»™é“¾', 'ç¥é“¾', 'åœ£é“¾', 'æ··æ²Œé“¾'],
  boots: ['è‰é‹', 'å¸ƒé´', 'çš®é´', 'é“é´', 'ç„é´', 'çµé´', 'ä»™é´', 'ç¥é´', 'åœ£é´', 'æ··æ²Œé´'],
  artifact: ['æœ¨ç¬¦', 'ç‰ä½©', 'é“œé•œ', 'çµç ', 'å®å¡”', 'ä»™å‰‘', 'ç¥å°', 'æ··æ²Œç ', 'åœ£ç‰©', 'é¸¿è’™ç ']
}

// ==================== è£…å¤‡å­ç±»å‹ç³»ç»Ÿ ====================
// æ¯ç§è£…å¤‡æ§½ä½æœ‰å¤šä¸ªå­ç±»å‹ï¼Œæä¾›ä¸åŒçš„å±æ€§åŠ æˆæ–¹å‘

export const armorSubTypes = {
  cloth: {
    name: 'å¸ƒç”²',
    description: 'è½»ä¾¿çµæ´»ï¼Œæå‡é—ªé¿',
    statBonus: { dodge: 0.15, hp: -0.1 },
    prefixes: ['è½»çµ', 'é£è¡Œ', 'äº‘æ¸¸', 'å¹»å½±', 'è™šç©º']
  },
  leather: {
    name: 'çš®ç”²',
    description: 'æ”»å®ˆå…¼å¤‡ï¼Œå¹³è¡¡ä¹‹é€‰',
    statBonus: { hp: 0.1, attack: 0.05 },
    prefixes: ['çŒæ‰‹', 'æ¸¸ä¾ ', 'åˆºå®¢', 'æš—å¤œ', 'ç–¾é£']
  },
  heavy: {
    name: 'é‡ç”²',
    description: 'åšå›ºåšé‡ï¼Œé˜²å¾¡æå¼º',
    statBonus: { defense: 0.3, hp: 0.15, dodge: -0.1 },
    prefixes: ['é“å£', 'ç£çŸ³', 'ä¸åŠ¨', 'é‡‘åˆš', 'æ³°å±±']
  }
}

export const helmetSubTypes = {
  crown: {
    name: 'æ³•å† ',
    description: 'è•´å«æ³•åŠ›ï¼Œæå‡æš´å‡»ä¼¤å®³',
    statBonus: { critDamage: 0.2, attack: 0.05 },
    prefixes: ['æ™ºæ…§', 'å¯è¿ª', 'çµå…‰', 'å¤©å¯', 'è‡³é«˜']
  },
  helm: {
    name: 'æˆ˜ç›”',
    description: 'åšå›ºæŠ¤å¤´ï¼Œæå‡é˜²å¾¡',
    statBonus: { defense: 0.2, hp: 0.1 },
    prefixes: ['å‹‡å£«', 'æˆ˜ç¥', 'å¾æœ', 'éœ¸ç‹', 'æ— ç•']
  },
  mask: {
    name: 'é¢å…·',
    description: 'ç¥ç§˜è«æµ‹ï¼Œæå‡é—ªé¿',
    statBonus: { dodge: 0.12, critRate: 0.08 },
    prefixes: ['å¹»é¢', 'é¬¼é¢', 'å½±é¢', 'é­”é¢', 'ç¥é¢']
  }
}

export const ringSubTypes = {
  attack: {
    name: 'æˆ˜æˆ’',
    description: 'å‡èšæˆ˜æ„ï¼Œæå‡æ”»å‡»',
    statBonus: { attack: 0.15, critRate: 0.05 },
    prefixes: ['ç‹‚æˆ˜', 'å—œè¡€', 'æ€æˆ®', 'æ¯ç­', 'ç­ä¸–']
  },
  defense: {
    name: 'å®ˆæˆ’',
    description: 'æŠ¤ä½“ä¹‹åŠ›ï¼Œæå‡é˜²å¾¡',
    statBonus: { defense: 0.15, hp: 0.08 },
    prefixes: ['å®ˆæŠ¤', 'åšéŸ§', 'ä¸å±ˆ', 'æ°¸å›º', 'ä¸‡å¤']
  },
  special: {
    name: 'ç§˜æˆ’',
    description: 'è•´å«ç‰¹æ®Šä¹‹åŠ›',
    statBonus: { penetration: 0.1, lifesteal: 0.05 },
    prefixes: ['ç§˜æ³•', 'å¥¥æœ¯', 'ç¥ç§˜', 'å¤ªå¤', 'æ··æ²Œ']
  }
}

export const necklaceSubTypes = {
  spirit: {
    name: 'çµç é“¾',
    description: 'çµæ°”æ±‡èšï¼Œæå‡æ”»å‡»',
    statBonus: { attack: 0.12, critDamage: 0.1 },
    prefixes: ['èšçµ', 'å‡æ°”', 'å¼•çµ', 'å¸å…ƒ', 'å¤ºå¤©']
  },
  guard: {
    name: 'æŠ¤å¿ƒé“¾',
    description: 'å®ˆæŠ¤å¿ƒè„‰ï¼Œæå‡ç”Ÿå‘½',
    statBonus: { hp: 0.15, damageReduction: 0.05 },
    prefixes: ['æŠ¤å¿ƒ', 'å…»ç¥', 'å›ºæœ¬', 'åŸ¹å…ƒ', 'é•¿ç”Ÿ']
  },
  ward: {
    name: 'è¾Ÿé‚ªé“¾',
    description: 'é©±é‚ªé¿å®³ï¼Œæå‡æŠ—æ€§',
    statBonus: { critResist: 0.15, defense: 0.05 },
    prefixes: ['è¾Ÿé‚ª', 'é•‡é­”', 'ä¼å¦–', 'é™é­”', 'ç­é‚ª']
  }
}

export const bootsSubTypes = {
  light: {
    name: 'è½»é´',
    description: 'è½»ç›ˆè¿…æ·ï¼Œé—ªé¿æé«˜',
    statBonus: { dodge: 0.2, hit: 0.05 },
    prefixes: ['ç–¾é£', 'é—ªç”µ', 'æµå…‰', 'å¹»å½±', 'ç¬ç§»']
  },
  war: {
    name: 'æˆ˜é´',
    description: 'ç¨³å¥æœ‰åŠ›ï¼Œæ”»é˜²å…¼å¤‡',
    statBonus: { defense: 0.1, attack: 0.05, hp: 0.05 },
    prefixes: ['æˆ˜ç¥', 'å¾æœ', 'é“è¹„', 'è·µè¸', 'ç¢¾å‹']
  },
  spirit: {
    name: 'çµé´',
    description: 'çµåŠ¨é£˜é€¸ï¼Œå‘½ä¸­ç²¾å‡†',
    statBonus: { hit: 0.15, critRate: 0.05 },
    prefixes: ['è¸äº‘', 'å‡Œæ³¢', 'å¾¡é£', 'ä¹˜é¾™', 'é€æ—¥']
  }
}

export const artifactSubTypes = {
  attack: {
    name: 'æ€ä¼æ³•å®',
    description: 'è•´å«æ€ä¼ä¹‹åŠ›ï¼Œæ”»å‡»æš´å‡»åŒå¢',
    statBonus: { attack: 0.1, critRate: 0.08, critDamage: 0.15 },
    prefixes: ['è¯›ä»™', 'æ–©ç¥', 'å¼‘é­”', 'å± é¾™', 'ç­ä¸–']
  },
  defense: {
    name: 'æŠ¤ä½“æ³•å®',
    description: 'æŠ¤ä½“ä¿å‘½ï¼Œé˜²å¾¡ç”Ÿå‘½åŒå¢',
    statBonus: { defense: 0.1, hp: 0.12, damageReduction: 0.03 },
    prefixes: ['æŠ¤æ³•', 'é‡‘èº«', 'ä¸ç­', 'æ°¸æ’', 'ä¸‡åŠ«']
  },
  balance: {
    name: 'æ··å…ƒæ³•å®',
    description: 'é˜´é˜³è°ƒå’Œï¼Œè¯¸èˆ¬å±æ€§å‡è¡¡',
    statBonus: { attack: 0.05, defense: 0.05, hp: 0.05, critRate: 0.03, dodge: 0.03 },
    prefixes: ['å¤ªæ', 'æ··å…ƒ', 'æ— æ', 'é¸¿è’™', 'é€ åŒ–']
  }
}

// ==================== è£…å¤‡ç‰¹æ•ˆç³»ç»Ÿ ====================

export const equipmentEffects = {
  reflect: {
    name: 'åä¼¤',
    description: 'åå¼¹å—åˆ°ä¼¤å®³çš„ä¸€éƒ¨åˆ†',
    valueRange: [5, 15],
    icon: 'ğŸ”„'
  },
  lifesteal: {
    name: 'å¸è¡€',
    description: 'æ”»å‡»æ—¶å›å¤ç”Ÿå‘½',
    valueRange: [3, 10],
    icon: 'ğŸ©¸'
  },
  shield: {
    name: 'æŠ¤ç›¾',
    description: 'æˆ˜æ–—å¼€å§‹è·å¾—æŠ¤ç›¾',
    valueRange: [5, 15],
    icon: 'ğŸ›¡ï¸'
  },
  lightning: {
    name: 'é›·å‡»',
    description: 'æ”»å‡»æ—¶æœ‰æ¦‚ç‡é€ æˆé¢å¤–ä¼¤å®³',
    valueRange: [10, 25],
    icon: 'âš¡'
  },
  freeze: {
    name: 'å†°å†»',
    description: 'æ”»å‡»æ—¶æœ‰æ¦‚ç‡é™ä½æ•Œäººé—ªé¿',
    valueRange: [5, 15],
    icon: 'â„ï¸'
  },
  burn: {
    name: 'ç¼çƒ§',
    description: 'æ”»å‡»æ—¶æœ‰æ¦‚ç‡é€ æˆæŒç»­ä¼¤å®³',
    valueRange: [3, 8],
    icon: 'ğŸ”¥'
  },
  heal: {
    name: 'å›æ˜¥',
    description: 'æ¯å›åˆå›å¤ç”Ÿå‘½',
    valueRange: [1, 5],
    icon: 'ğŸ’š'
  },
  critical: {
    name: 'è‡´å‘½',
    description: 'æš´å‡»æ—¶é¢å¤–æå‡æš´å‡»ä¼¤å®³',
    valueRange: [10, 30],
    icon: 'ğŸ’¥'
  },
  penetrate: {
    name: 'ç ´ç”²',
    description: 'æ— è§†æ•Œäººéƒ¨åˆ†é˜²å¾¡',
    valueRange: [5, 15],
    icon: 'ğŸ—¡ï¸'
  },
  dodge: {
    name: 'å¹»å½±',
    description: 'å—åˆ°æ”»å‡»æ—¶æœ‰æ¦‚ç‡é—ªé¿',
    valueRange: [3, 10],
    icon: 'ğŸ’¨'
  }
}

// ==================== è£…å¤‡å¥—è£…ç³»ç»Ÿ ====================

export const equipmentSets = {
  xuanwu: {
    name: 'ç„æ­¦å¥—è£…',
    description: 'ç„æ­¦å®ˆæŠ¤ï¼Œé˜²å¾¡ä¸ºç‹',
    color: '#3498db',
    pieces: ['armor', 'helmet', 'boots'],
    bonuses: {
      2: { hp: 10, defense: 10, description: 'ç”Ÿå‘½+10%, é˜²å¾¡+10%' },
      3: { hp: 15, defense: 20, damageReduction: 5, description: 'ç”Ÿå‘½+15%, é˜²å¾¡+20%, ä¼¤å®³å‡å…+5%' }
    }
  },
  zhuque: {
    name: 'æœ±é›€å¥—è£…',
    description: 'æœ±é›€ä¹‹ç„°ï¼Œæ”»å‡»è‡³ä¸Š',
    color: '#e74c3c',
    pieces: ['weapon', 'ring', 'necklace'],
    bonuses: {
      2: { attack: 12, critRate: 5, description: 'æ”»å‡»+12%, æš´å‡»+5%' },
      3: { attack: 20, critRate: 10, critDamage: 15, description: 'æ”»å‡»+20%, æš´å‡»+10%, æš´ä¼¤+15%' }
    }
  },
  qinglong: {
    name: 'é’é¾™å¥—è£…',
    description: 'é’é¾™ä¹‹åŠ›ï¼Œæ”»å®ˆå…¼å¤‡',
    color: '#2ecc71',
    pieces: ['weapon', 'armor', 'artifact'],
    bonuses: {
      2: { attack: 8, defense: 8, description: 'æ”»å‡»+8%, é˜²å¾¡+8%' },
      3: { attack: 15, defense: 15, hp: 10, description: 'æ”»å‡»+15%, é˜²å¾¡+15%, ç”Ÿå‘½+10%' }
    }
  },
  baihu: {
    name: 'ç™½è™å¥—è£…',
    description: 'ç™½è™ç‹‚å•¸ï¼Œçˆ†å‘æƒŠäºº',
    color: '#f39c12',
    pieces: ['weapon', 'helmet', 'ring'],
    bonuses: {
      2: { critDamage: 15, penetration: 8, description: 'æš´ä¼¤+15%, ç©¿é€+8%' },
      3: { critDamage: 30, penetration: 15, critRate: 8, description: 'æš´ä¼¤+30%, ç©¿é€+15%, æš´å‡»+8%' }
    }
  },
  qilin: {
    name: 'éº’éºŸå¥—è£…',
    description: 'éº’éºŸçŒ®ç‘ï¼Œå…¨èƒ½ä¹‹é€‰',
    color: '#9b59b6',
    pieces: ['necklace', 'boots', 'artifact'],
    bonuses: {
      2: { hp: 5, attack: 5, defense: 5, description: 'ç”Ÿå‘½+5%, æ”»å‡»+5%, é˜²å¾¡+5%' },
      3: { hp: 10, attack: 10, defense: 10, critRate: 5, dodge: 5, description: 'å…¨å±æ€§+10%, æš´å‡»+5%, é—ªé¿+5%' }
    }
  },
  hundun: {
    name: 'æ··æ²Œå¥—è£…',
    description: 'æ··æ²Œä¹‹åŠ›ï¼Œè¶…è¶Šæé™',
    color: '#8e44ad',
    pieces: ['weapon', 'armor', 'helmet', 'ring', 'necklace', 'boots', 'artifact'],
    bonuses: {
      3: { attack: 10, defense: 10, hp: 10, description: 'æ”»å‡»+10%, é˜²å¾¡+10%, ç”Ÿå‘½+10%' },
      5: { attack: 20, defense: 20, hp: 20, critRate: 10, description: 'æ”»å‡»+20%, é˜²å¾¡+20%, ç”Ÿå‘½+20%, æš´å‡»+10%' },
      7: { attack: 35, defense: 35, hp: 35, critRate: 15, critDamage: 25, penetration: 10, description: 'å…¨å±æ€§+35%, æš´å‡»+15%, æš´ä¼¤+25%, ç©¿é€+10%' }
    }
  }
}

// æ€ªç‰©æŠ€èƒ½åº“
export const monsterSkills = [
  // æ”»å‡»ç±»æŠ€èƒ½
  { name: 'å‡¶çŒ›æ’•å’¬', type: 'attack', multiplier: 1.5, description: 'é€ æˆ150%ä¼¤å®³' },
  { name: 'è‡´å‘½ä¸€å‡»', type: 'attack', multiplier: 2.0, description: 'é€ æˆ200%ä¼¤å®³' },
  { name: 'ç‹‚æš´å†²æ’', type: 'attack', multiplier: 1.8, description: 'é€ æˆ180%ä¼¤å®³' },
  { name: 'æ¯’æ¶²å–·å°„', type: 'attack', multiplier: 1.3, description: 'é€ æˆ130%ä¼¤å®³' },
  { name: 'å¯’å†°åæ¯', type: 'attack', multiplier: 1.6, description: 'é€ æˆ160%ä¼¤å®³' },
  { name: 'çƒˆç„°ç¼çƒ§', type: 'attack', multiplier: 1.7, description: 'é€ æˆ170%ä¼¤å®³' },
  { name: 'é›·éœ†è½°å‡»', type: 'attack', multiplier: 1.9, description: 'é€ æˆ190%ä¼¤å®³' },
  { name: 'æš—å½±çªè¢­', type: 'attack', multiplier: 2.2, description: 'é€ æˆ220%ä¼¤å®³' },
  { name: 'æ­»äº¡å‡è§†', type: 'attack', multiplier: 2.5, description: 'é€ æˆ250%ä¼¤å®³' },
  { name: 'æ¯ç­ä¹‹æ¯', type: 'attack', multiplier: 3.0, description: 'é€ æˆ300%ä¼¤å®³' },
  // å¢ç›Šç±»æŠ€èƒ½
  { name: 'ç‹‚æš´', type: 'buff', stat: 'attack', value: 20, description: 'æ”»å‡»åŠ›+20%' },
  { name: 'é“å£', type: 'buff', stat: 'defense', value: 30, description: 'é˜²å¾¡åŠ›+30%' },
  { name: 'å—œè¡€', type: 'buff', stat: 'lifesteal', value: 15, description: 'ç”Ÿå‘½å·å–15%' },
  { name: 'ç–¾é£', type: 'buff', stat: 'dodge', value: 10, description: 'é—ªé¿+10%' },
  { name: 'ç²¾å‡†', type: 'buff', stat: 'critRate', value: 15, description: 'æš´å‡»+15%' },
  // ç‰¹æ®ŠæŠ€èƒ½
  { name: 'åä¼¤æŠ¤ç›¾', type: 'special', effect: 'reflect', value: 20, description: 'åå¼¹20%ä¼¤å®³' },
  { name: 'å¸è¡€å…‰ç¯', type: 'special', effect: 'drain', value: 10, description: 'æ¯æ¬¡æ”»å‡»å›å¤10%ä¼¤å®³' },
  { name: 'ä¸å±ˆæ„å¿—', type: 'special', effect: 'revive', value: 30, description: 'é¦–æ¬¡æ­»äº¡æ¢å¤30%è¡€é‡' }
]

// æ ¹æ®ç­‰çº§è·å–éšæœºæŠ€èƒ½
export function getRandomSkills(level) {
  const skillCount = Math.min(5, 1 + Math.floor(level / 12)) // 1-12çº§1ä¸ªï¼Œ13-24çº§2ä¸ªï¼Œä»¥æ­¤ç±»æ¨
  const availableSkills = [...monsterSkills]
  const selectedSkills = []

  // é«˜ç­‰çº§æ€ªç‰©æœ‰æ›´é«˜å‡ ç‡è·å¾—å¼ºåŠ›æŠ€èƒ½
  for (let i = 0; i < skillCount; i++) {
    if (availableSkills.length === 0) break
    const index = Math.floor(Math.random() * availableSkills.length)
    selectedSkills.push({ ...availableSkills[index] })
    availableSkills.splice(index, 1)
  }

  return selectedSkills
}

// åœ°å›¾éš¾åº¦å€ç‡ï¼ˆåæœŸåœ°å›¾æ€ªç‰©æ›´å¼ºï¼Œä½†ä¿æŒåˆç†èŒƒå›´ï¼‰
const mapDifficultyMultiplier = {
  'æ–°æ‰‹æ‘å¤–': 1,
  'é’äº‘å±±è„š': 1.0,
  'å¹½æš—æ£®æ—': 1.5,
  'å¦–å…½å±±è„‰': 1.8,
  'å…ƒç´ ç§˜å¢ƒ': 2.2,
  'é­”æ¸Šè¾¹å¢ƒ': 2.6,
  'é­”æ¸Šæ·±å¤„': 3.0,
  'å¤©é­”æˆ˜åœº': 3.5,
  'æ··æ²Œè£‚éš™': 4.0,
  'ä¸Šå¤é—è¿¹': 4.5,
  'å¤©é“è¯•ç‚¼': 5.0,
  // 60-100çº§æ–°åœ°å›¾
  'ç¥é­”æˆ˜åœº': 5.5,
  'ä¹å¹½å†¥ç•Œ': 6.0,
  'ä»™ç•Œè¾¹å¢ƒ': 10.0,
  'å¤ªè™šæ˜ŸåŸŸ': 12.0,
  'ä¸‡å¦–åœ£åœ°': 18.0,
  'è¯¸å¤©ç¥åŸŸ': 22.0,
  'é¸¿è’™ç§˜å¢ƒ': 34.0
}

// ç”Ÿæˆæ€ªç‰©æ•°æ®ï¼ˆ1-60çº§ï¼‰
function generateMonsters() {
  const monsterTemplates = [
    { level: [1, 3], names: ['é‡é¸¡', 'é‡å…”', 'å±±é¼ '], location: 'æ–°æ‰‹æ‘å¤–' },
    { level: [4, 6], names: ['é‡ç‹¼', 'æ¯’è›‡', 'é‡çŒª'], location: 'æ–°æ‰‹æ‘å¤–' },
    { level: [7, 10], names: ['é»‘ç†Š', 'çŒ›è™', 'è±¹å­'], location: 'é’äº‘å±±è„š' },
    { level: [11, 13], names: ['å±±é­ˆ', 'æ ‘ç²¾', 'çŸ³æ€ª'], location: 'é’äº‘å±±è„š' },
    { level: [14, 16], names: ['ç‹¼å¦–', 'è›‡å¦–', 'ç†Šå¦–'], location: 'å¹½æš—æ£®æ—' },
    { level: [17, 20], names: ['é¬¼é¢è››', 'å—œè¡€è ', 'å™¬é­‚å…½'], location: 'å¹½æš—æ£®æ—' },
    { level: [21, 23], names: ['ç«ç„°ç‹®', 'å¯’å†°ç‹¼', 'é›·ç”µé¹°'], location: 'å¦–å…½å±±è„‰' },
    { level: [24, 26], names: ['å²©çŸ³å·¨äºº', 'é£æš´å…ƒç´ ', 'æ°´çµç²¾'], location: 'å¦–å…½å±±è„‰' },
    { level: [27, 30], names: ['èµ¤ç„°èŸ’', 'ç„å†°è›Ÿ', 'ç´«é›·è²‚'], location: 'å…ƒç´ ç§˜å¢ƒ' },
    { level: [31, 33], names: ['é­”åŒ–æˆ˜å£«', 'æš—å½±åˆºå®¢', 'é‚ªèƒ½æ³•å¸ˆ'], location: 'é­”æ¸Šè¾¹å¢ƒ' },
    { level: [34, 36], names: ['è¡€é­”å°†', 'éª¨é­”å°†', 'é­‚é­”å°†'], location: 'é­”æ¸Šè¾¹å¢ƒ' },
    { level: [37, 40], names: ['å™¬å¤©é­”', 'è£‚åœ°é­”', 'ç„šä¸–é­”'], location: 'é­”æ¸Šæ·±å¤„' },
    { level: [41, 43], names: ['å •è½å¤©ä½¿', 'æ·±æ¸Šé¢†ä¸»', 'è™šç©ºè¡Œè€…'], location: 'å¤©é­”æˆ˜åœº' },
    { level: [44, 46], names: ['é­”é¾™å¹¼å´½', 'ç‚é­”åè£”', 'å†°é­”ä¹‹å­'], location: 'å¤©é­”æˆ˜åœº' },
    { level: [47, 50], names: ['å¤©é­”å°†å†›', 'åœ°ç‹±å…¬çˆµ', 'æ··æ²Œä½¿è€…'], location: 'æ··æ²Œè£‚éš™' },
    { level: [51, 53], names: ['è¿œå¤å·¨é¾™', 'ä¸æ­»å‡¤å‡°', 'ä¸‡å¹´ç„é¾Ÿ'], location: 'ä¸Šå¤é—è¿¹' },
    { level: [54, 56], names: ['ä»™ç•Œå›å¾’', 'é­”ç•Œç‹å­', 'å¦–ç•Œçš‡å­'], location: 'ä¸Šå¤é—è¿¹' },
    { level: [57, 60], names: ['æ··æ²Œå…½', 'å¤©é“å‚€å„¡', 'è½®å›å®ˆå«'], location: 'å¤©é“è¯•ç‚¼' },
    // 60-100çº§æ–°æ€ªç‰©
    { level: [61, 64], names: ['ç¥æˆ˜é—çµ', 'é­”æˆ˜äº¡é­‚', 'å¤©ç½šä½¿è€…'], location: 'ç¥é­”æˆ˜åœº' },
    { level: [65, 68], names: ['ä¹å¹½é¬¼ç‹', 'å†¥æ²³åˆ¤å®˜', 'é˜´å¸é˜ç½—'], location: 'ä¹å¹½å†¥ç•Œ' },
    { level: [69, 72], names: ['å¹½å†¥é¾™è›‡', 'åœ°ç‹±ä¸‰å¤´çŠ¬', 'å†¥ç•Œæ­»ç¥'], location: 'ä¹å¹½å†¥ç•Œ' },
    { level: [73, 76], names: ['ä»™ç•Œé—¨å«', 'äº‘éœ„ä»™ä½¿', 'å¤©å…µå¤©å°†'], location: 'ä»™ç•Œè¾¹å¢ƒ' },
    { level: [77, 80], names: ['å •è½ä»™äºº', 'å›é€†ç¥å°†', 'å™¬å¤©é­”å›'], location: 'ä»™ç•Œè¾¹å¢ƒ' },
    { level: [81, 84], names: ['æ˜Ÿè¾°å·¨å…½', 'è™šç©ºåå™¬è€…', 'æ˜ŸåŸŸå®ˆæŠ¤'], location: 'å¤ªè™šæ˜ŸåŸŸ' },
    { level: [85, 88], names: ['æ··æ²Œæ˜Ÿé­”', 'å¤ªè™šå¹»çµ', 'æ˜Ÿæ²³å¤é¾™'], location: 'å¤ªè™šæ˜ŸåŸŸ' },
    { level: [89, 92], names: ['ä¸‡å¦–ä¹‹ä¸»', 'å¦–çš‡åˆ†èº«', 'è‡³å°Šå¦–å¸'], location: 'ä¸‡å¦–åœ£åœ°' },
    { level: [93, 96], names: ['è¯¸å¤©ç¥ä½¿', 'æŠ¤æ³•é‡‘åˆš', 'å¤©ç•Œæˆ˜ç¥'], location: 'è¯¸å¤©ç¥åŸŸ' },
    { level: [97, 100], names: ['é¸¿è’™å·¨å…½', 'å¤ªåˆç¥é­”', 'æ··æ²Œå§‹ç¥–'], location: 'é¸¿è’™ç§˜å¢ƒ' }
  ]

  const monsters = []
  monsterTemplates.forEach(template => {
    for (let lvl = template.level[0]; lvl <= template.level[1]; lvl++) {
      template.names.forEach(name => {
        // æ–°æ‰‹æ‘(1-6çº§)æ€ªç‰©æ•°å€¼è¾ƒä½
        const isBeginnerArea = lvl <= 6
        const beginnerMult = isBeginnerArea ? 0.5 : 1

        // åœ°å›¾éš¾åº¦å€ç‡
        const mapMult = mapDifficultyMultiplier[template.location] || 1

        // åŸºç¡€å±æ€§å…¬å¼ï¼ˆæ›´æ¿€è¿›çš„å¢é•¿ï¼‰
        const baseHp = 40 + lvl * 25 + Math.pow(lvl, 1.7) * 4
        const baseAtk = 4 + lvl * 3 + Math.pow(lvl, 1.35) * 1.2
        const baseDef = 2 + lvl * 1.8 + Math.pow(lvl, 1.25) * 0.8

        monsters.push({
          name: `${name}`,
          level: lvl,
          hp: Math.floor(baseHp * beginnerMult * mapMult),
          attack: Math.floor(baseAtk * beginnerMult * mapMult),
          defense: Math.floor(baseDef * beginnerMult * mapMult),
          // ç‰¹æ®Šå±æ€§ï¼šå›ºå®šéšæœºèŒƒå›´
          critRate: Math.floor(Math.random() * 60) + 1,      // æš´å‡»ç‡ 1%-60%
          dodge: Math.floor(Math.random() * 40) + 1,         // é—ªé¿ç‡ 1%-40%
          penetration: Math.floor(Math.random() * 25) + 1,   // ç©¿é€ 1%-25%
          lifesteal: Math.floor(Math.random() * 20) + 1,     // å¸è¡€ 1%-20%
          exp: Math.floor(15 + lvl * 6 + Math.pow(lvl, 1.3)),
          gold: Math.floor(8 + lvl * 4 + Math.pow(lvl, 1.2)),
          dropRate: Math.min(25, 8 + lvl * 0.3),
          location: template.location
        })
      })
    }
  })
  return monsters
}

// ç”Ÿæˆåœ°å›¾æ•°æ®
function generateMaps() {
  const mapData = [
    { id: 1, name: 'æ–°æ‰‹æ‘å¤–', description: 'æ‘å¤–çš„å°æ ‘æ—ï¼Œæœ‰ä¸€äº›é‡å…½å‡ºæ²¡', levelRange: [1, 6], requiredLevel: 1 },
    { id: 2, name: 'é’äº‘å±±è„š', description: 'é’äº‘å±±è„šä¸‹ï¼Œå¦–æ°”æ¸æµ“', levelRange: [7, 13], requiredLevel: 7 },
    { id: 3, name: 'å¹½æš—æ£®æ—', description: 'ç»ˆå¹´ä¸è§é˜³å…‰çš„æ£®æ—ï¼Œå±æœºå››ä¼', levelRange: [14, 20], requiredLevel: 14 },
    { id: 4, name: 'å¦–å…½å±±è„‰', description: 'å¦–å…½æ¨ªè¡Œçš„å±±è„‰ï¼Œå¼±è€…å‹¿å…¥', levelRange: [21, 26], requiredLevel: 21 },
    { id: 5, name: 'å…ƒç´ ç§˜å¢ƒ', description: 'å…ƒç´ ä¹‹åŠ›æ±‡èšä¹‹åœ°ï¼Œè•´å«å¼ºå¤§èƒ½é‡', levelRange: [27, 30], requiredLevel: 27 },
    { id: 6, name: 'é­”æ¸Šè¾¹å¢ƒ', description: 'é­”æ—é¢†åœ°çš„è¾¹ç¼˜ï¼Œé­”æ°”å¼¥æ¼«', levelRange: [31, 36], requiredLevel: 31 },
    { id: 7, name: 'é­”æ¸Šæ·±å¤„', description: 'é­”æ¸Šçš„æ ¸å¿ƒåŒºåŸŸï¼Œå¼ºå¤§é­”ç‰©æ –æ¯', levelRange: [37, 40], requiredLevel: 37 },
    { id: 8, name: 'å¤©é­”æˆ˜åœº', description: 'è¿œå¤å¤©é­”å¤§æˆ˜ä¹‹åœ°ï¼Œæ®‹ç•™æ— æ•°äº¡é­‚', levelRange: [41, 46], requiredLevel: 41 },
    { id: 9, name: 'æ··æ²Œè£‚éš™', description: 'è¿æ¥æ··æ²Œè™šç©ºçš„è£‚ç¼ï¼Œæå…¶å±é™©', levelRange: [47, 50], requiredLevel: 47 },
    { id: 10, name: 'ä¸Šå¤é—è¿¹', description: 'ä¸Šå¤å¤§èƒ½é™¨è½ä¹‹åœ°ï¼Œæœºç¼˜ä¸å±æœºå¹¶å­˜', levelRange: [51, 56], requiredLevel: 51 },
    { id: 11, name: 'å¤©é“è¯•ç‚¼', description: 'å¤©é“è®¾ä¸‹çš„ç»ˆæè¯•ç‚¼ï¼Œå”¯å¼ºè€…å¯å…¥', levelRange: [57, 60], requiredLevel: 57 },
    // 60-100çº§æ–°åœ°å›¾
    { id: 12, name: 'ç¥é­”æˆ˜åœº', description: 'ä¸Šå¤ç¥é­”å¤§æˆ˜é—å€ï¼Œå……æ»¡æ®‹ç•™çš„ç¥é­”ä¹‹åŠ›', levelRange: [61, 68], requiredLevel: 61 },
    { id: 13, name: 'ä¹å¹½å†¥ç•Œ', description: 'é€šå¾€å†¥ç•Œçš„å…¥å£ï¼Œé˜´æ°”æ£®æ£®ï¼Œäº¡é­‚æ¸¸è¡', levelRange: [65, 72], requiredLevel: 65 },
    { id: 14, name: 'ä»™ç•Œè¾¹å¢ƒ', description: 'å‡¡ä»™äº¤ç•Œä¹‹åœ°ï¼Œä»™æ°”ä¸é­”æ°”äº¤æ±‡', levelRange: [73, 80], requiredLevel: 73 },
    { id: 15, name: 'å¤ªè™šæ˜ŸåŸŸ', description: 'æ˜Ÿè¾°ä¹‹åŠ›æ±‡èšçš„è™šç©ºé¢†åŸŸï¼Œè•´å«æ— å°½å¥¥ç§˜', levelRange: [81, 88], requiredLevel: 81 },
    { id: 16, name: 'ä¸‡å¦–åœ£åœ°', description: 'å¦–æ—åœ£åœ°ï¼Œä¸‡å¦–æœæ‹œä¹‹æ‰€ï¼Œå¦–æ°”å†²å¤©', levelRange: [85, 92], requiredLevel: 85 },
    { id: 17, name: 'è¯¸å¤©ç¥åŸŸ', description: 'è¯¸å¤©ç¥æ˜çš„é¢†åŸŸï¼Œç¥å¨æµ©è¡', levelRange: [93, 96], requiredLevel: 93 },
    { id: 18, name: 'é¸¿è’™ç§˜å¢ƒ', description: 'å®‡å®™è¯ç”Ÿä¹‹åˆçš„æ··æ²Œä¹‹åœ°ï¼Œè•´å«å¤©åœ°è‡³ç†', levelRange: [97, 100], requiredLevel: 97 }
  ]

  const allMonsters = generateMonsters()

  return mapData.map(map => ({
    ...map,
    monsters: allMonsters.filter(m => m.level >= map.levelRange[0] && m.level <= map.levelRange[1])
  }))
}

export const maps = generateMaps()

// ==================== é”å¦–å¡”ç³»ç»Ÿ ====================

// é”å¦–å¡”é…ç½®
export const towerConfig = {
  name: 'é”å¦–å¡”',
  description: 'é•‡å‹å¦–é­”çš„å¤å¡”ï¼Œæ¯å±‚éƒ½æœ‰å¼ºå¤§çš„å¦–ç‰©å®ˆæŠ¤',
  monsterCount: 3, // æ¯å±‚å›ºå®š3åªæ€ªç‰©
  requiredLevel: 10 // éœ€è¦10çº§æ‰èƒ½è¿›å…¥
}

// ç”Ÿæˆé”å¦–å¡”æŸä¸€å±‚çš„æ€ªç‰©
export function generateTowerFloorMonsters(floor) {
  // æ€ªç‰©ç­‰çº§ = å±‚æ•° + 5ï¼Œæœ€ä½10çº§
  const monsterLevel = Math.max(10, floor + 5)

  // éš¾åº¦å€ç‡éšå±‚æ•°å¢åŠ ï¼ˆæ¯10å±‚å¢åŠ 50%ï¼‰
  const difficultyMult = 1 + Math.floor(floor / 10) * 0.5

  // æ€ªç‰©åç§°åº“
  const monsterNames = [
    'å¦–ç‹', 'ç‹¼å¦–', 'è›‡å¦–', 'ç†Šå¦–', 'è™å¦–',
    'é¬¼é¢è››', 'å—œè¡€è ', 'å™¬é­‚å…½', 'èµ¤ç„°é­”', 'ç„å†°é­”',
    'é›·éœ†å…½', 'æš—å½±é¬¼', 'è¡€é­”å°†', 'éª¨é­”å°†', 'é­‚é­”å°†',
    'å •è½å¤©ä½¿', 'æ·±æ¸Šé¢†ä¸»', 'æ··æ²Œä½¿è€…', 'è¿œå¤å·¨å…½', 'å¤©é­”ç‹'
  ]

  const monsters = []
  for (let i = 0; i < towerConfig.monsterCount; i++) {
    // éšæœºé€‰æ‹©æ€ªç‰©åç§°
    const nameIndex = Math.min(Math.floor(floor / 5) + Math.floor(Math.random() * 3), monsterNames.length - 1)
    const name = monsterNames[nameIndex]

    // è®¡ç®—å±æ€§ï¼ˆæ¯”æ™®é€šåœ°å›¾æ€ªç‰©å¼ºï¼‰
    const baseHp = 60 + monsterLevel * 30 + Math.pow(monsterLevel, 1.8) * 5
    const baseAtk = 6 + monsterLevel * 4 + Math.pow(monsterLevel, 1.4) * 1.5
    const baseDef = 3 + monsterLevel * 2.5 + Math.pow(monsterLevel, 1.3)

    monsters.push({
      name: `${floor}å±‚${name}`,
      level: monsterLevel,
      hp: Math.floor(baseHp * difficultyMult),
      attack: Math.floor(baseAtk * difficultyMult),
      defense: Math.floor(baseDef * difficultyMult),
      // ç‰¹æ®Šå±æ€§ï¼šé”å¦–å¡”æ€ªç‰©æ›´å¼ºï¼ˆå›ºå®šéšæœºèŒƒå›´ï¼‰
      critRate: Math.floor(Math.random() * 61) + 20,    // æš´å‡»ç‡ 20%-80%
      dodge: Math.floor(Math.random() * 21) + 20,       // é—ªé¿ç‡ 20%-40%
      penetration: Math.floor(Math.random() * 21) + 20, // ç©¿é€ 20%-40%
      lifesteal: Math.floor(Math.random() * 11) + 10,   // å¸è¡€ 10%-20%
      exp: Math.floor((20 + floor * 8) * difficultyMult),
      gold: Math.floor((15 + floor * 5) * difficultyMult),
      dropRate: Math.min(30, 10 + floor * 0.5), // é”å¦–å¡”æ‰è½ç‡æ›´é«˜
      currentHp: Math.floor(baseHp * difficultyMult),
      skills: getRandomSkills(monsterLevel),
      buffs: {},
      debuffs: {},
      reviveUsed: false
    })
  }

  return monsters
}

// æŠ€èƒ½ç¨€æœ‰åº¦é…ç½®
export const skillRarityConfig = {
  common: { name: 'æ™®é€š', color: '#ffffff' },
  uncommon: { name: 'ä¼˜ç§€', color: '#2ecc71' },
  rare: { name: 'ç¨€æœ‰', color: '#3498db' },
  epic: { name: 'å²è¯—', color: '#9b59b6' },
  legendary: { name: 'ä¼ è¯´', color: '#e67e22' }
}

// æŠ€èƒ½ç³»ç»Ÿ - 10ä¸ªä¸»åŠ¨æŠ€èƒ½ + 5ä¸ªè¢«åŠ¨æŠ€èƒ½
export const skills = [
  // ä¸»åŠ¨æŠ€èƒ½ (10ä¸ª)
  {
    id: 1,
    name: 'ç«çƒæœ¯',
    description: 'å‘å°„ä¸€é¢—ç«çƒæ”»å‡»æ•Œäºº',
    type: 'active',
    rarity: 'common',
    maxLevel: 5,
    baseDamageMultiplier: 1.5,
    levelBonusMultiplier: 0.2,
    cooldown: 2,
    shopPrice: 0,
    dropFromMaps: [1, 2],
    dropRate: 0.02
  },
  {
    id: 2,
    name: 'å†°é”¥æœ¯',
    description: 'å‘å°„å†°é”¥æ”»å‡»æ•Œäººï¼Œé™„å¸¦å‡é€Ÿæ•ˆæœ',
    type: 'active',
    rarity: 'common',
    maxLevel: 5,
    baseDamageMultiplier: 1.4,
    levelBonusMultiplier: 0.18,
    cooldown: 2,
    effect: 'slow',
    effectValue: 20,
    shopPrice: 0,
    dropFromMaps: [1, 2],
    dropRate: 0.02
  },
  {
    id: 3,
    name: 'é›·å‡»æœ¯',
    description: 'å¬å”¤é›·ç”µæ”»å‡»æ•Œäºº',
    type: 'active',
    rarity: 'common',
    maxLevel: 5,
    baseDamageMultiplier: 1.6,
    levelBonusMultiplier: 0.22,
    cooldown: 3,
    shopPrice: 0,
    dropFromMaps: [2, 3],
    dropRate: 0.02
  },
  {
    id: 4,
    name: 'æ—‹é£æ–©',
    description: 'æŒ¥èˆæ­¦å™¨å½¢æˆæ—‹é£ï¼Œæ”»å‡»æœ€å¤š3ä¸ªæ•Œäºº',
    type: 'active',
    rarity: 'rare',
    maxLevel: 5,
    baseDamageMultiplier: 2.0,
    levelBonusMultiplier: 0.25,
    cooldown: 4,
    effect: 'aoe',
    hitCount: 3,
    shopPrice: 0,
    dropFromMaps: [3, 4],
    dropRate: 0.01
  },
  {
    id: 5,
    name: 'çƒˆç„°æ–©',
    description: 'ä»¥ç«ç„°é™„é­”çš„å¼ºåŠ›æ–©å‡»',
    type: 'active',
    rarity: 'rare',
    maxLevel: 5,
    baseDamageMultiplier: 2.2,
    levelBonusMultiplier: 0.28,
    cooldown: 4,
    effect: 'burn',
    effectValue: 5,
    shopPrice: 0,
    dropFromMaps: [4, 5],
    dropRate: 0.01
  },
  {
    id: 6,
    name: 'å†°å°ä¸‡é‡Œ',
    description: 'é‡Šæ”¾æå¯’ä¹‹åŠ›ï¼Œæ”»å‡»æœ€å¤š4ä¸ªæ•Œäººå¹¶å†°å†»',
    type: 'active',
    rarity: 'rare',
    maxLevel: 5,
    baseDamageMultiplier: 2.5,
    levelBonusMultiplier: 0.3,
    cooldown: 5,
    effect: 'freeze',
    effectValue: 1,
    hitCount: 4,
    shopPrice: 0,
    dropFromMaps: [5, 6],
    dropRate: 0.01
  },
  {
    id: 7,
    name: 'é›·éœ†ä¸‡é’§',
    description: 'å¬å”¤å¤©é›·è½°å‡»æ•Œäººï¼Œå¨åŠ›å·¨å¤§',
    type: 'active',
    rarity: 'epic',
    maxLevel: 5,
    baseDamageMultiplier: 3.0,
    levelBonusMultiplier: 0.35,
    cooldown: 6,
    effect: 'critBoost',
    effectValue: 30,
    shopPrice: 0,
    dropFromMaps: [7, 8],
    dropRate: 0.005
  },
  {
    id: 8,
    name: 'ç ´ç©ºæ–©',
    description: 'æ— è§†é˜²å¾¡çš„è‡´å‘½æ–©å‡»',
    type: 'active',
    rarity: 'epic',
    maxLevel: 5,
    baseDamageMultiplier: 3.5,
    levelBonusMultiplier: 0.4,
    cooldown: 7,
    effect: 'pen',
    effectValue: 50,
    shopPrice: 0,
    dropFromMaps: [8, 9],
    dropRate: 0.005
  },
  {
    id: 9,
    name: 'å¤©é™é™¨çŸ³',
    description: 'å¬å”¤é™¨çŸ³ä»å¤©è€Œé™ï¼Œæ”»å‡»æœ€å¤š5ä¸ªæ•Œäºº',
    type: 'active',
    rarity: 'legendary',
    maxLevel: 5,
    baseDamageMultiplier: 4.0,
    levelBonusMultiplier: 0.5,
    cooldown: 8,
    effect: 'aoe',
    hitCount: 5,
    shopPrice: 0,
    dropFromMaps: [10, 11],
    dropRate: 0.002
  },
  {
    id: 10,
    name: 'ç­ä¸–',
    description: 'é‡Šæ”¾æ¯ç­ä¹‹åŠ›ï¼Œé€ æˆæƒŠå¤©ä¼¤å®³',
    type: 'active',
    rarity: 'legendary',
    maxLevel: 5,
    baseDamageMultiplier: 5.0,
    levelBonusMultiplier: 0.6,
    cooldown: 10,
    shopPrice: 0,
    dropFromMaps: [11],
    dropRate: 0.001
  },
  // è¢«åŠ¨æŠ€èƒ½ (5ä¸ª)
  {
    id: 11,
    name: 'é“å£',
    description: 'å¢å¼ºé˜²å¾¡åŠ›',
    type: 'passive',
    rarity: 'common',
    maxLevel: 5,
    bonusPerLevel: { defense: 5 },
    shopPrice: 0,
    dropFromMaps: [1, 2],
    dropRate: 0.02
  },
  {
    id: 12,
    name: 'å¼ºå£®',
    description: 'å¢å¼ºæ”»å‡»åŠ›',
    type: 'passive',
    rarity: 'common',
    maxLevel: 5,
    bonusPerLevel: { attack: 5 },
    shopPrice: 0,
    dropFromMaps: [1, 2],
    dropRate: 0.02
  },
  {
    id: 13,
    name: 'ç”Ÿå‘½å¼ºåŒ–',
    description: 'å¢åŠ æœ€å¤§ç”Ÿå‘½å€¼',
    type: 'passive',
    rarity: 'rare',
    maxLevel: 5,
    bonusPerLevel: { hp: 30 },
    shopPrice: 0,
    dropFromMaps: [3, 4, 5],
    dropRate: 0.01
  },
  {
    id: 14,
    name: 'æš´å‡»ç²¾é€š',
    description: 'æé«˜æš´å‡»ç‡',
    type: 'passive',
    rarity: 'rare',
    maxLevel: 5,
    bonusPerLevel: { critRate: 3 },
    shopPrice: 0,
    dropFromMaps: [4, 5, 6],
    dropRate: 0.01
  },
  {
    id: 15,
    name: 'å¸è¡€',
    description: 'æ”»å‡»æ—¶å›å¤ç”Ÿå‘½',
    type: 'passive',
    rarity: 'epic',
    maxLevel: 5,
    bonusPerLevel: { lifesteal: 2 },
    shopPrice: 0,
    dropFromMaps: [7, 8, 9, 10],
    dropRate: 0.005
  },
  // æ–°å¢ç‰¹è‰²æŠ€èƒ½
  {
    id: 16,
    name: 'è“„åŠ›ä¸€å‡»',
    description: 'è“„åŠ›1å›åˆï¼Œä¸‹å›åˆå¯¹4ä¸ªæ•Œäººé€ æˆ400%ä¼¤å®³ï¼Œå¹¶ä½¿å…¶æ˜“ä¼¤3å›åˆï¼ˆå—ä¼¤+20%ï¼‰',
    type: 'active',
    rarity: 'epic',
    maxLevel: 5,
    baseDamageMultiplier: 4.0,
    levelBonusMultiplier: 0.5,
    cooldown: 6,
    effect: 'charge',
    hitCount: 4,
    debuff: 'vulnerable',
    debuffValue: 20,
    debuffDuration: 3,
    shopPrice: 0,
    dropFromMaps: [6, 7, 8],
    dropRate: 0.005
  },
  {
    id: 17,
    name: 'æ²»æ„ˆæœ¯',
    description: 'æ ¹æ®æ”»å‡»åŠ›æ¢å¤ç”Ÿå‘½ï¼ˆ80%æ”»å‡»åŠ›ï¼‰',
    type: 'active',
    rarity: 'rare',
    maxLevel: 5,
    baseDamageMultiplier: 0.8,
    levelBonusMultiplier: 0.1,
    cooldown: 5,
    effect: 'heal',
    shopPrice: 0,
    dropFromMaps: [3, 4, 5],
    dropRate: 0.01
  },
  {
    id: 18,
    name: 'æˆ˜æ„æ¿€å‘',
    description: '3å›åˆå†…æ”»å‡»åŠ›æå‡30%',
    type: 'active',
    rarity: 'rare',
    maxLevel: 5,
    baseDamageMultiplier: 0,
    levelBonusMultiplier: 0,
    cooldown: 8,
    effect: 'attackBuff',
    effectValue: 30,
    effectDuration: 3,
    shopPrice: 0,
    dropFromMaps: [4, 5, 6],
    dropRate: 0.01
  },
  {
    id: 19,
    name: 'è‡´å‘½æœ¬èƒ½',
    description: '3å›åˆå†…æš´å‡»ç‡æå‡25%',
    type: 'active',
    rarity: 'rare',
    maxLevel: 5,
    baseDamageMultiplier: 0,
    levelBonusMultiplier: 0,
    cooldown: 8,
    effect: 'critBuff',
    effectValue: 25,
    effectDuration: 3,
    shopPrice: 0,
    dropFromMaps: [5, 6, 7],
    dropRate: 0.01
  },
  {
    id: 20,
    name: 'é“ç”²æœ¯',
    description: '3å›åˆå†…é˜²å¾¡åŠ›æå‡50%',
    type: 'active',
    rarity: 'rare',
    maxLevel: 5,
    baseDamageMultiplier: 0,
    levelBonusMultiplier: 0,
    cooldown: 8,
    effect: 'defenseBuff',
    effectValue: 50,
    effectDuration: 3,
    shopPrice: 0,
    dropFromMaps: [3, 4, 5],
    dropRate: 0.01
  },
  {
    id: 21,
    name: 'é‡‘é’Ÿç½©',
    description: 'ç”ŸæˆæŠ¤ç›¾å¸æ”¶ç›¸å½“äº30%æœ€å¤§ç”Ÿå‘½çš„ä¼¤å®³',
    type: 'active',
    rarity: 'epic',
    maxLevel: 5,
    baseDamageMultiplier: 0,
    levelBonusMultiplier: 0,
    cooldown: 10,
    effect: 'shield',
    effectValue: 30,
    shopPrice: 0,
    dropFromMaps: [7, 8, 9],
    dropRate: 0.005
  },
  {
    id: 22,
    name: 'ç ´é‡œæ²‰èˆŸ',
    description: 'æ¶ˆè€—30%å½“å‰ç”Ÿå‘½ï¼Œé€ æˆ500%ä¼¤å®³',
    type: 'active',
    rarity: 'legendary',
    maxLevel: 5,
    baseDamageMultiplier: 5.0,
    levelBonusMultiplier: 0.6,
    cooldown: 8,
    effect: 'sacrifice',
    effectValue: 30,
    shopPrice: 0,
    dropFromMaps: [9, 10, 11],
    dropRate: 0.002
  },
  // æ–°å¢å¦å…‹è¢«åŠ¨æŠ€èƒ½
  {
    id: 23,
    name: 'åšéŸ§',
    description: 'å—åˆ°çš„ä¼¤å®³é™ä½',
    type: 'passive',
    rarity: 'rare',
    maxLevel: 5,
    bonusPerLevel: { damageReduction: 3 },
    shopPrice: 0,
    dropFromMaps: [4, 5, 6],
    dropRate: 0.01
  },
  {
    id: 24,
    name: 'æ ¼æŒ¡å¤§å¸ˆ',
    description: 'æé«˜é—ªé¿ç‡',
    type: 'passive',
    rarity: 'rare',
    maxLevel: 5,
    bonusPerLevel: { dodge: 2 },
    shopPrice: 0,
    dropFromMaps: [5, 6, 7],
    dropRate: 0.01
  },
  {
    id: 25,
    name: 'ç”Ÿå‘½ä¹‹æº',
    description: 'æ¯å›åˆæ¢å¤ç”Ÿå‘½å€¼',
    type: 'passive',
    rarity: 'epic',
    maxLevel: 5,
    bonusPerLevel: { hpRegen: 2 },
    shopPrice: 0,
    dropFromMaps: [8, 9, 10],
    dropRate: 0.005
  },
  // ========== å® ç‰©ä¸“å±æŠ€èƒ½ (ID: 101-116) ==========
  // æ¯ä¸ªå® ç‰©å­µåŒ–æ—¶å›ºå®šæºå¸¦çš„æŠ€èƒ½
  {
    id: 101,
    name: 'ç‹ä»™æ²»æ„ˆ',
    description: 'æ²»æ„ˆä¸»äººï¼Œæ¢å¤ä¸»äºº15%æœ€å¤§ç”Ÿå‘½å€¼',
    type: 'petSkill',
    rarity: 'rare',
    maxLevel: 10,
    effect: 'healOwner',
    effectValue: 15,
    cooldown: 4,
    petExclusive: true
  },
  {
    id: 102,
    name: 'ç–¾é£æ­¥',
    description: '3å›åˆå†…æå‡ä¸»äºº20%é—ªé¿ç‡',
    type: 'petSkill',
    rarity: 'rare',
    maxLevel: 10,
    effect: 'ownerDodgeBuff',
    effectValue: 20,
    effectDuration: 3,
    cooldown: 6,
    petExclusive: true
  },
  {
    id: 103,
    name: 'æ’•å’¬',
    description: 'å‡¶çŒ›æ’•å’¬æ•Œäººï¼Œé€ æˆ150%ä¼¤å®³å¹¶ä½¿å…¶æµè¡€3å›åˆ',
    type: 'petSkill',
    rarity: 'common',
    maxLevel: 10,
    baseDamageMultiplier: 1.5,
    effect: 'bleed',
    effectValue: 5,
    effectDuration: 3,
    cooldown: 3,
    petExclusive: true
  },
  {
    id: 104,
    name: 'å‰§æ¯’å™¬å’¬',
    description: 'æ¯’ç‰™æ”»å‡»ï¼Œé€ æˆ120%ä¼¤å®³å¹¶ä½¿æ•Œäººä¸­æ¯’4å›åˆ',
    type: 'petSkill',
    rarity: 'common',
    maxLevel: 10,
    baseDamageMultiplier: 1.2,
    effect: 'poison',
    effectValue: 3,
    effectDuration: 4,
    cooldown: 3,
    petExclusive: true
  },
  {
    id: 105,
    name: 'çƒˆç„°ä¿¯å†²',
    description: 'ä»ç©ºä¸­ä¿¯å†²æ”»å‡»ï¼Œé€ æˆ180%ç«ç„°ä¼¤å®³å¹¶æœ‰30%å‡ ç‡ç¼çƒ§æ•Œäºº',
    type: 'petSkill',
    rarity: 'rare',
    maxLevel: 10,
    baseDamageMultiplier: 1.8,
    effect: 'burn',
    effectValue: 30,
    effectDuration: 2,
    cooldown: 4,
    petExclusive: true
  },
  {
    id: 106,
    name: 'çŸ³åŒ–æŠ¤ç›¾',
    description: 'ä¸ºä¸»äººç”ŸæˆæŠ¤ç›¾ï¼Œå¸æ”¶ç›¸å½“äºå® ç‰©50%ç”Ÿå‘½å€¼çš„ä¼¤å®³',
    type: 'petSkill',
    rarity: 'epic',
    maxLevel: 10,
    effect: 'ownerShield',
    effectValue: 50,
    cooldown: 8,
    petExclusive: true
  },
  {
    id: 107,
    name: 'å¸è¡€å™¬å’¬',
    description: 'å¸å–æ•Œäººç”Ÿå‘½ï¼Œé€ æˆ140%ä¼¤å®³å¹¶å›å¤ä¼¤å®³50%çš„ç”Ÿå‘½',
    type: 'petSkill',
    rarity: 'rare',
    maxLevel: 10,
    baseDamageMultiplier: 1.4,
    effect: 'lifesteal',
    effectValue: 50,
    cooldown: 4,
    petExclusive: true
  },
  {
    id: 108,
    name: 'äº¡çµè¯…å’’',
    description: 'è¯…å’’æ•Œäººï¼Œ3å›åˆå†…æ•Œäººå—åˆ°ä¼¤å®³å¢åŠ 25%',
    type: 'petSkill',
    rarity: 'rare',
    maxLevel: 10,
    effect: 'curse',
    effectValue: 25,
    effectDuration: 3,
    cooldown: 6,
    petExclusive: true
  },
  {
    id: 109,
    name: 'é¾™æ¯',
    description: 'å–·åé¾™ç„°ï¼Œå¯¹æ‰€æœ‰æ•Œäººé€ æˆ200%ä¼¤å®³',
    type: 'petSkill',
    rarity: 'epic',
    maxLevel: 10,
    baseDamageMultiplier: 2.0,
    effect: 'aoe',
    hitCount: 99,
    cooldown: 5,
    petExclusive: true
  },
  {
    id: 110,
    name: 'é›·éœ†ä¿¯å†²',
    description: 'æºå¸¦é›·ç”µä¿¯å†²æ”»å‡»ï¼Œé€ æˆ170%ä¼¤å®³å¹¶æœ‰20%å‡ ç‡çœ©æ™•æ•Œäºº',
    type: 'petSkill',
    rarity: 'rare',
    maxLevel: 10,
    baseDamageMultiplier: 1.7,
    effect: 'stun',
    effectValue: 20,
    effectDuration: 1,
    cooldown: 4,
    petExclusive: true
  },
  {
    id: 111,
    name: 'çµé­‚ä¾µèš€',
    description: 'æ— è§†é˜²å¾¡çš„çµé­‚æ”»å‡»ï¼Œé€ æˆ160%çœŸå®ä¼¤å®³',
    type: 'petSkill',
    rarity: 'epic',
    maxLevel: 10,
    baseDamageMultiplier: 1.6,
    effect: 'trueDamage',
    cooldown: 5,
    petExclusive: true
  },
  {
    id: 112,
    name: 'åœ°ç‹±ä¸šç«',
    description: 'å¬å”¤åœ°ç‹±ä¹‹ç«ï¼Œå¯¹æ‰€æœ‰æ•Œäººé€ æˆ180%ä¼¤å®³å¹¶ç¼çƒ§3å›åˆ',
    type: 'petSkill',
    rarity: 'epic',
    maxLevel: 10,
    baseDamageMultiplier: 1.8,
    effect: 'aoe',
    hitCount: 99,
    burn: true,
    burnDuration: 3,
    cooldown: 6,
    petExclusive: true
  },
  {
    id: 113,
    name: 'è™šç©ºä¾µèš€',
    description: 'ä¾µèš€æ•Œäººï¼Œ3å›åˆå†…æ•Œäººæ”»å‡»åŠ›é™ä½30%',
    type: 'petSkill',
    rarity: 'epic',
    maxLevel: 10,
    effect: 'weaken',
    effectValue: 30,
    effectDuration: 3,
    cooldown: 6,
    petExclusive: true
  },
  {
    id: 114,
    name: 'æ˜Ÿå…‰ç¥ç¦',
    description: 'ç¥ç¦ä¸»äººï¼Œ3å›åˆå†…æš´å‡»ç‡+30%ï¼Œæš´å‡»ä¼¤å®³+50%',
    type: 'petSkill',
    rarity: 'epic',
    maxLevel: 10,
    effect: 'ownerCritBuff',
    critRateBonus: 30,
    critDamageBonus: 50,
    effectDuration: 3,
    cooldown: 7,
    petExclusive: true
  },
  {
    id: 115,
    name: 'æ··æ²Œå†²å‡»',
    description: 'é‡Šæ”¾æ··æ²Œèƒ½é‡ï¼Œé€ æˆ250%ä¼¤å®³å¹¶éšæœºé™„åŠ è´Ÿé¢æ•ˆæœ',
    type: 'petSkill',
    rarity: 'legendary',
    maxLevel: 10,
    baseDamageMultiplier: 2.5,
    effect: 'chaos',
    cooldown: 5,
    petExclusive: true
  },
  {
    id: 116,
    name: 'ç¥ç½š',
    description: 'å¬å”¤ç¥ç½šï¼Œå¯¹å•ä½“é€ æˆ400%æ¯ç­æ€§ä¼¤å®³',
    type: 'petSkill',
    rarity: 'legendary',
    maxLevel: 10,
    baseDamageMultiplier: 4.0,
    cooldown: 8,
    petExclusive: true
  },
  // ========== å® ç‰©éšè—æŠ€èƒ½ (ID: 201-216) ==========
  // å­µåŒ–æ—¶æœ‰10%æ¦‚ç‡è·å¾—
  {
    id: 201,
    name: 'é­…æƒ‘',
    description: 'é­…æƒ‘æ•Œäººï¼Œ30%å‡ ç‡ä½¿å…¶çœ©æ™•2å›åˆ',
    type: 'petSkill',
    rarity: 'epic',
    maxLevel: 10,
    effect: 'charm',
    effectValue: 30,
    effectDuration: 2,
    cooldown: 7,
    petExclusive: true,
    isHidden: true
  },
  {
    id: 202,
    name: 'å¹»å½±åˆ†èº«',
    description: 'åˆ›é€ å¹»å½±ï¼Œ3å›åˆå†…é—ªé¿ç‡+50%',
    type: 'petSkill',
    rarity: 'epic',
    maxLevel: 10,
    effect: 'superDodge',
    effectValue: 50,
    effectDuration: 3,
    cooldown: 8,
    petExclusive: true,
    isHidden: true
  },
  {
    id: 203,
    name: 'ç‹¼åš',
    description: 'æ¿€åŠ±ä¸»äººï¼Œ3å›åˆå†…ä¸»äººæ”»å‡»åŠ›+40%',
    type: 'petSkill',
    rarity: 'epic',
    maxLevel: 10,
    effect: 'ownerAttackBuff',
    effectValue: 40,
    effectDuration: 3,
    cooldown: 7,
    petExclusive: true,
    isHidden: true
  },
  {
    id: 204,
    name: 'è‡´å‘½å‰§æ¯’',
    description: 'é‡Šæ”¾è‡´å‘½æ¯’ç´ ï¼Œä½¿æ•Œäººä¸­æ¯’5å›åˆï¼ˆæ¯å›åˆæŸå¤±8%ç”Ÿå‘½ï¼‰',
    type: 'petSkill',
    rarity: 'epic',
    maxLevel: 10,
    effect: 'deadlyPoison',
    effectValue: 8,
    effectDuration: 5,
    cooldown: 6,
    petExclusive: true,
    isHidden: true
  },
  {
    id: 205,
    name: 'æµ´ç«é‡ç”Ÿ',
    description: 'æ­»äº¡æ—¶æœ‰50%å‡ ç‡å¤æ´»å¹¶æ¢å¤30%ç”Ÿå‘½ï¼ˆæ¯åœºæˆ˜æ–—é™1æ¬¡ï¼‰',
    type: 'petSkill',
    rarity: 'legendary',
    maxLevel: 10,
    effect: 'phoenixRebirth',
    effectValue: 30,
    reviveChance: 50,
    cooldown: 0,
    petExclusive: true,
    isHidden: true
  },
  {
    id: 206,
    name: 'å˜²è®½',
    description: 'å˜²è®½æ•Œäººï¼Œ2å›åˆå†…æ•Œäººåªèƒ½æ”»å‡»å® ç‰©',
    type: 'petSkill',
    rarity: 'epic',
    maxLevel: 10,
    effect: 'taunt',
    effectDuration: 2,
    cooldown: 6,
    petExclusive: true,
    isHidden: true
  },
  {
    id: 207,
    name: 'è¡€ä¹‹ç‹‚æ¬¢',
    description: 'è¿›å…¥ç‹‚æš´çŠ¶æ€ï¼Œ3å›åˆå†…æ”»å‡»åŠ›+50%ä¸”å¸è¡€100%',
    type: 'petSkill',
    rarity: 'legendary',
    maxLevel: 10,
    effect: 'bloodFrenzy',
    attackBonus: 50,
    lifestealBonus: 100,
    effectDuration: 3,
    cooldown: 8,
    petExclusive: true,
    isHidden: true
  },
  {
    id: 208,
    name: 'äº¡çµå¬å”¤',
    description: 'å¬å”¤äº¡çµåŠ©æˆ˜ï¼Œå¯¹æ•Œäººé¢å¤–é€ æˆ3æ¬¡80%ä¼¤å®³',
    type: 'petSkill',
    rarity: 'epic',
    maxLevel: 10,
    baseDamageMultiplier: 0.8,
    effect: 'summon',
    hitCount: 3,
    cooldown: 6,
    petExclusive: true,
    isHidden: true
  },
  {
    id: 209,
    name: 'é¾™å¨',
    description: 'é‡Šæ”¾é¾™å¨ï¼Œ3å›åˆå†…æ•Œäººæ”»å‡»åŠ›-40%',
    type: 'petSkill',
    rarity: 'epic',
    maxLevel: 10,
    effect: 'dragonMight',
    effectValue: 40,
    effectDuration: 3,
    cooldown: 7,
    petExclusive: true,
    isHidden: true
  },
  {
    id: 210,
    name: 'é—ªç”µé“¾',
    description: 'é‡Šæ”¾é—ªç”µé“¾ï¼Œå¯¹æ‰€æœ‰æ•Œäººé€ æˆ150%ä¼¤å®³å¹¶æœ‰15%å‡ ç‡çœ©æ™•',
    type: 'petSkill',
    rarity: 'epic',
    maxLevel: 10,
    baseDamageMultiplier: 1.5,
    effect: 'chainLightning',
    stunChance: 15,
    hitCount: 99,
    cooldown: 5,
    petExclusive: true,
    isHidden: true
  },
  {
    id: 211,
    name: 'çµé­‚åå™¬',
    description: 'åå™¬æ•Œäººçµé­‚ï¼Œé€ æˆ200%çœŸå®ä¼¤å®³å¹¶æ¢å¤ç­‰é‡ç”Ÿå‘½',
    type: 'petSkill',
    rarity: 'legendary',
    maxLevel: 10,
    baseDamageMultiplier: 2.0,
    effect: 'soulDevour',
    cooldown: 7,
    petExclusive: true,
    isHidden: true
  },
  {
    id: 212,
    name: 'çƒˆç„°ä¹‹èº¯',
    description: 'ç‚¹ç‡ƒè‡ªèº«ï¼Œ3å›åˆå†…åå¼¹å—åˆ°ä¼¤å®³çš„30%ç»™æ”»å‡»è€…',
    type: 'petSkill',
    rarity: 'epic',
    maxLevel: 10,
    effect: 'flameBody',
    effectValue: 30,
    effectDuration: 3,
    cooldown: 6,
    petExclusive: true,
    isHidden: true
  },
  {
    id: 213,
    name: 'è™šç©ºé»‘æ´',
    description: 'å¬å”¤é»‘æ´ï¼Œå¯¹æ‰€æœ‰æ•Œäººé€ æˆ180%ä¼¤å®³å¹¶é™ä½50%é˜²å¾¡3å›åˆ',
    type: 'petSkill',
    rarity: 'legendary',
    maxLevel: 10,
    baseDamageMultiplier: 1.8,
    effect: 'voidBlackHole',
    defenseReduction: 50,
    effectDuration: 3,
    hitCount: 99,
    cooldown: 8,
    petExclusive: true,
    isHidden: true
  },
  {
    id: 214,
    name: 'æ˜Ÿé™¨',
    description: 'å¬å”¤æ˜Ÿè¾°å è½ï¼Œå¯¹æ‰€æœ‰æ•Œäººé€ æˆ220%ä¼¤å®³',
    type: 'petSkill',
    rarity: 'epic',
    maxLevel: 10,
    baseDamageMultiplier: 2.2,
    effect: 'starfall',
    hitCount: 99,
    cooldown: 6,
    petExclusive: true,
    isHidden: true
  },
  {
    id: 215,
    name: 'æ··æ²Œé¢†åŸŸ',
    description: 'å±•å¼€æ··æ²Œé¢†åŸŸï¼Œæ‰€æœ‰æ•Œäººéšæœºå—åˆ°å‡æ”»/å‡é˜²/ä¸­æ¯’/æµè¡€æ•ˆæœ',
    type: 'petSkill',
    rarity: 'legendary',
    maxLevel: 10,
    effect: 'chaosDomain',
    effectDuration: 3,
    cooldown: 8,
    petExclusive: true,
    isHidden: true
  },
  {
    id: 216,
    name: 'æœ«æ—¥å®¡åˆ¤',
    description: 'å¬å”¤æœ«æ—¥å®¡åˆ¤ï¼Œå¯¹æ‰€æœ‰æ•Œäººé€ æˆ300%ä¼¤å®³å¹¶é™„åŠ æ‰€æœ‰è´Ÿé¢æ•ˆæœ',
    type: 'petSkill',
    rarity: 'legendary',
    maxLevel: 10,
    baseDamageMultiplier: 3.0,
    effect: 'doomsday',
    hitCount: 99,
    cooldown: 10,
    petExclusive: true,
    isHidden: true
  },
  // ========== 60-100çº§æ–°å® ç‰©ä¸“å±æŠ€èƒ½ (ID: 117-130) ==========
  {
    id: 117,
    name: 'æˆ˜é­‚å†²å‡»',
    description: 'é‡Šæ”¾æˆ˜é­‚ä¹‹åŠ›ï¼Œé€ æˆ220%ä¼¤å®³ï¼Œæ”»å‡»åŠ›è¶Šä½ä¼¤å®³è¶Šé«˜',
    type: 'petSkill',
    rarity: 'epic',
    maxLevel: 10,
    baseDamageMultiplier: 2.2,
    effect: 'berserker',
    cooldown: 4,
    petExclusive: true
  },
  {
    id: 118,
    name: 'é­”ç¥ä¹‹æ€’',
    description: 'æ— è§†50%é˜²å¾¡çš„é­”ç¥æ”»å‡»ï¼Œé€ æˆ200%ä¼¤å®³',
    type: 'petSkill',
    rarity: 'epic',
    maxLevel: 10,
    baseDamageMultiplier: 2.0,
    effect: 'armorPierce',
    penetration: 50,
    cooldown: 5,
    petExclusive: true
  },
  {
    id: 119,
    name: 'å†¥æ²³ç¼ ç»•',
    description: 'å†¥æ²³ä¹‹åŠ›ç¼ ç»•æ•Œäººï¼Œé€ æˆ160%ä¼¤å®³å¹¶æŒç»­æµè¡€5å›åˆ',
    type: 'petSkill',
    rarity: 'epic',
    maxLevel: 10,
    baseDamageMultiplier: 1.6,
    effect: 'bleed',
    effectValue: 8,
    effectDuration: 5,
    cooldown: 4,
    petExclusive: true
  },
  {
    id: 120,
    name: 'é˜ç½—å®¡åˆ¤',
    description: 'åˆ¤å®˜ä¹‹åŠ›é™ä¸´ï¼Œ3å›åˆå†…æ•Œäººå—åˆ°ä¼¤å®³å¢åŠ 35%',
    type: 'petSkill',
    rarity: 'epic',
    maxLevel: 10,
    effect: 'judgement',
    effectValue: 35,
    effectDuration: 3,
    cooldown: 6,
    petExclusive: true
  },
  {
    id: 121,
    name: 'ä»™é¹¤ç¥ç¦',
    description: 'ä»™é¹¤ç¥ç¦ä¸»äººï¼Œæ¢å¤25%æœ€å¤§ç”Ÿå‘½å¹¶å‡€åŒ–è´Ÿé¢æ•ˆæœ',
    type: 'petSkill',
    rarity: 'legendary',
    maxLevel: 10,
    effect: 'healAndPurify',
    healValue: 25,
    cooldown: 6,
    petExclusive: true
  },
  {
    id: 122,
    name: 'å¤©å…µå®ˆæŠ¤',
    description: 'å¤©å…µæŠ¤ä½“ï¼Œä¸ºä¸»äººç”Ÿæˆç›¸å½“äºå® ç‰©80%ç”Ÿå‘½çš„æŠ¤ç›¾',
    type: 'petSkill',
    rarity: 'legendary',
    maxLevel: 10,
    effect: 'ownerShield',
    effectValue: 80,
    cooldown: 8,
    petExclusive: true
  },
  {
    id: 123,
    name: 'æ˜Ÿè¾°è½°ç‚¸',
    description: 'å¬å”¤æ˜Ÿè¾°è½°å‡»æ‰€æœ‰æ•Œäººï¼Œé€ æˆ240%ä¼¤å®³',
    type: 'petSkill',
    rarity: 'legendary',
    maxLevel: 10,
    baseDamageMultiplier: 2.4,
    effect: 'aoe',
    hitCount: 99,
    cooldown: 5,
    petExclusive: true
  },
  {
    id: 124,
    name: 'è™šç©ºåå™¬',
    description: 'åå™¬æ•Œäººç”Ÿå‘½ï¼Œé€ æˆ180%ä¼¤å®³å¹¶å›å¤100%ä¼¤å®³çš„ç”Ÿå‘½',
    type: 'petSkill',
    rarity: 'legendary',
    maxLevel: 10,
    baseDamageMultiplier: 1.8,
    effect: 'lifesteal',
    effectValue: 100,
    cooldown: 5,
    petExclusive: true
  },
  {
    id: 125,
    name: 'ä¹å°¾å¹»æœ¯',
    description: 'é‡Šæ”¾å¹»æœ¯ï¼Œ50%å‡ ç‡é­…æƒ‘æ‰€æœ‰æ•Œäºº2å›åˆ',
    type: 'petSkill',
    rarity: 'legendary',
    maxLevel: 10,
    effect: 'massCharm',
    effectValue: 50,
    effectDuration: 2,
    hitCount: 99,
    cooldown: 8,
    petExclusive: true
  },
  {
    id: 126,
    name: 'å¦–çš‡å¨å‹',
    description: 'é‡Šæ”¾å¦–çš‡å¨å‹ï¼Œæ‰€æœ‰æ•Œäººæ”»é˜²é™ä½40%æŒç»­3å›åˆ',
    type: 'petSkill',
    rarity: 'legendary',
    maxLevel: 10,
    effect: 'royalPressure',
    attackReduction: 40,
    defenseReduction: 40,
    effectDuration: 3,
    hitCount: 99,
    cooldown: 7,
    petExclusive: true
  },
  {
    id: 127,
    name: 'é‡‘åˆšä¸å',
    description: 'é‡‘åˆšæŠ¤ä½“ï¼Œ3å›åˆå†…å—åˆ°ä¼¤å®³é™ä½50%',
    type: 'petSkill',
    rarity: 'legendary',
    maxLevel: 10,
    effect: 'ironBody',
    damageReduction: 50,
    effectDuration: 3,
    cooldown: 8,
    petExclusive: true
  },
  {
    id: 128,
    name: 'ç¥åŸŸé›·éœ†',
    description: 'å¬å”¤ç¥åŸŸé›·éœ†ï¼Œå¯¹æ‰€æœ‰æ•Œäººé€ æˆ280%ä¼¤å®³å¹¶çœ©æ™•1å›åˆ',
    type: 'petSkill',
    rarity: 'legendary',
    maxLevel: 10,
    baseDamageMultiplier: 2.8,
    effect: 'aoeStun',
    stunDuration: 1,
    hitCount: 99,
    cooldown: 7,
    petExclusive: true
  },
  {
    id: 129,
    name: 'é¸¿è’™ä¹‹åŠ›',
    description: 'é‡Šæ”¾é¸¿è’™åŸå§‹ä¹‹åŠ›ï¼Œé€ æˆ300%æ··æ²Œä¼¤å®³å¹¶éšæœºé™„åŠ å¤šç§æ•ˆæœ',
    type: 'petSkill',
    rarity: 'legendary',
    maxLevel: 10,
    baseDamageMultiplier: 3.0,
    effect: 'primordialChaos',
    cooldown: 6,
    petExclusive: true
  },
  {
    id: 130,
    name: 'å¤ªåˆåˆ›ä¸–',
    description: 'å¤ªåˆç¥å…½çš„ç©¶ææŠ€èƒ½ï¼Œé€ æˆ500%æ¯å¤©ç­åœ°çš„ä¼¤å®³',
    type: 'petSkill',
    rarity: 'legendary',
    maxLevel: 10,
    baseDamageMultiplier: 5.0,
    cooldown: 10,
    petExclusive: true
  },
  // ========== 60-100çº§æ–°å® ç‰©éšè—æŠ€èƒ½ (ID: 217-230) ==========
  {
    id: 217,
    name: 'æˆ˜é­‚ä¸ç­',
    description: 'æˆ˜æ–—æ—¶é¦–æ¬¡æ­»äº¡ä¼šå¤æ´»å¹¶æ¢å¤50%ç”Ÿå‘½',
    type: 'petSkill',
    rarity: 'legendary',
    maxLevel: 10,
    effect: 'revive',
    reviveHp: 50,
    cooldown: 0,
    petExclusive: true,
    isHidden: true
  },
  {
    id: 218,
    name: 'é­”ç¥é¢†åŸŸ',
    description: 'å±•å¼€é­”ç¥é¢†åŸŸï¼Œæ‰€æœ‰æ”»å‡»æ— è§†30%é˜²å¾¡',
    type: 'petSkill',
    rarity: 'legendary',
    maxLevel: 10,
    effect: 'passivePenetration',
    penetration: 30,
    cooldown: 0,
    petExclusive: true,
    isHidden: true
  },
  {
    id: 219,
    name: 'å†¥æ²³è¯…å’’',
    description: 'æ”»å‡»æ—¶æœ‰30%å‡ ç‡ä½¿æ•Œäººå—åˆ°çš„ä¼¤å®³å¢åŠ 50%æŒç»­2å›åˆ',
    type: 'petSkill',
    rarity: 'legendary',
    maxLevel: 10,
    effect: 'passiveCurse',
    curseChance: 30,
    curseValue: 50,
    effectDuration: 2,
    cooldown: 0,
    petExclusive: true,
    isHidden: true
  },
  {
    id: 220,
    name: 'è½®å›å®¡åˆ¤',
    description: 'æ¯æ¬¡æ”»å‡»æœ‰20%å‡ ç‡é€ æˆåŒå€ä¼¤å®³',
    type: 'petSkill',
    rarity: 'legendary',
    maxLevel: 10,
    effect: 'doubleDamageChance',
    chance: 20,
    cooldown: 0,
    petExclusive: true,
    isHidden: true
  },
  {
    id: 221,
    name: 'ä»™é¹¤é•¿ç”Ÿ',
    description: 'æ¯å›åˆæ¢å¤å® ç‰©å’Œä¸»äºº5%æœ€å¤§ç”Ÿå‘½',
    type: 'petSkill',
    rarity: 'legendary',
    maxLevel: 10,
    effect: 'passiveRegen',
    regenValue: 5,
    cooldown: 0,
    petExclusive: true,
    isHidden: true
  },
  {
    id: 222,
    name: 'å¤©å…µé“å£',
    description: 'æ°¸ä¹…å‡å°‘å® ç‰©å’Œä¸»äººå—åˆ°çš„ä¼¤å®³15%',
    type: 'petSkill',
    rarity: 'legendary',
    maxLevel: 10,
    effect: 'passiveDamageReduction',
    reduction: 15,
    cooldown: 0,
    petExclusive: true,
    isHidden: true
  },
  {
    id: 223,
    name: 'æ˜Ÿè¾°ä¹‹åŠ›',
    description: 'æš´å‡»ç‡+20%ï¼Œæš´å‡»ä¼¤å®³+40%',
    type: 'petSkill',
    rarity: 'legendary',
    maxLevel: 10,
    effect: 'passiveCrit',
    critRate: 20,
    critDamage: 40,
    cooldown: 0,
    petExclusive: true,
    isHidden: true
  },
  {
    id: 224,
    name: 'è™šç©ºè¡€å¥‘',
    description: 'å¸è¡€æ•ˆæœæå‡100%',
    type: 'petSkill',
    rarity: 'legendary',
    maxLevel: 10,
    effect: 'lifestealBoost',
    boostValue: 100,
    cooldown: 0,
    petExclusive: true,
    isHidden: true
  },
  {
    id: 225,
    name: 'å¤©ç‹é­…å½±',
    description: 'é—ªé¿ç‡+25%ï¼Œè¢«é—ªé¿æ—¶åå‡»é€ æˆ100%ä¼¤å®³',
    type: 'petSkill',
    rarity: 'legendary',
    maxLevel: 10,
    effect: 'dodgeCounter',
    dodgeBonus: 25,
    counterDamage: 100,
    cooldown: 0,
    petExclusive: true,
    isHidden: true
  },
  {
    id: 226,
    name: 'ä¸‡å¦–è‡£æœ',
    description: 'æ”»å‡»æ—¶æœ‰25%å‡ ç‡ä½¿æ•Œäººææƒ§ï¼Œè·³è¿‡1å›åˆ',
    type: 'petSkill',
    rarity: 'legendary',
    maxLevel: 10,
    effect: 'fear',
    fearChance: 25,
    cooldown: 0,
    petExclusive: true,
    isHidden: true
  },
  {
    id: 227,
    name: 'é‡‘åˆšæ€’ç›®',
    description: 'å—åˆ°æ”»å‡»æ—¶åå¼¹30%ä¼¤å®³',
    type: 'petSkill',
    rarity: 'legendary',
    maxLevel: 10,
    effect: 'thorns',
    reflectDamage: 30,
    cooldown: 0,
    petExclusive: true,
    isHidden: true
  },
  {
    id: 228,
    name: 'ç¥åŸŸåŠ æŠ¤',
    description: 'æ‰€æœ‰å±æ€§æå‡15%',
    type: 'petSkill',
    rarity: 'legendary',
    maxLevel: 10,
    effect: 'allStatsBoost',
    boostValue: 15,
    cooldown: 0,
    petExclusive: true,
    isHidden: true
  },
  {
    id: 229,
    name: 'é¸¿è’™æ··æ²Œ',
    description: 'æ”»å‡»æ—¶éšæœºè§¦å‘ä¸€ç§å¼ºåŠ›æ•ˆæœï¼šçœ©æ™•/å‡é˜²/å¸è¡€/åŒå€ä¼¤å®³',
    type: 'petSkill',
    rarity: 'legendary',
    maxLevel: 10,
    effect: 'randomPowerful',
    cooldown: 0,
    petExclusive: true,
    isHidden: true
  },
  {
    id: 230,
    name: 'åˆ›ä¸–ç¥å¨',
    description: 'æ”»å‡»åŠ›ã€æš´å‡»ç‡ã€æš´å‡»ä¼¤å®³å„+30%ï¼Œå‡»æ€æ•Œäººæ¢å¤20%ç”Ÿå‘½',
    type: 'petSkill',
    rarity: 'legendary',
    maxLevel: 10,
    effect: 'godPower',
    attackBonus: 30,
    critRateBonus: 30,
    critDamageBonus: 30,
    killHeal: 20,
    cooldown: 0,
    petExclusive: true,
    isHidden: true
  },
  // ========== å® ç‰©å¯å­¦ä¹ æŠ€èƒ½ (ID: 301-324) ==========
  // é€šè¿‡å® ç‰©æŠ€èƒ½ä¹¦è·å¾—ï¼Œæ‰€æœ‰å® ç‰©éƒ½å¯ä»¥å­¦ä¹ 
  // åˆçº§æ¡£ä½ - è¢«åŠ¨æŠ€èƒ½ (301-307)
  {
    id: 301,
    name: 'å¼ºå£®',
    description: 'å¢åŠ å® ç‰©ç­‰çº§Ã—10ç‚¹ç”Ÿå‘½å€¼',
    type: 'petLearnablePassive',
    rarity: 'common',
    tier: 1,
    maxLevel: 10,
    effect: 'hpBonus',
    levelMultiplier: 10,
    petExclusive: true
  },
  {
    id: 302,
    name: 'å¥½æ–—',
    description: 'å¢åŠ å® ç‰©ç­‰çº§Ã—3ç‚¹æ”»å‡»',
    type: 'petLearnablePassive',
    rarity: 'common',
    tier: 1,
    maxLevel: 10,
    effect: 'attackBonus',
    levelMultiplier: 3,
    petExclusive: true
  },
  {
    id: 303,
    name: 'ç¡¬åŒ–',
    description: 'å¢åŠ å® ç‰©ç­‰çº§Ã—2ç‚¹é˜²å¾¡',
    type: 'petLearnablePassive',
    rarity: 'common',
    tier: 1,
    maxLevel: 10,
    effect: 'defenseBonus',
    levelMultiplier: 2,
    petExclusive: true
  },
  {
    id: 304,
    name: 'è¿å‡»',
    description: 'æ”»å‡»æ—¶æœ‰30%å‡ ç‡è¿ç»­å¯¹æ•Œäººé€ æˆ2æ¬¡ä¼¤å®³',
    type: 'petLearnablePassive',
    rarity: 'common',
    tier: 1,
    maxLevel: 10,
    effect: 'multiHit',
    hitChance: 30,
    hitCount: 2,
    petExclusive: true
  },
  {
    id: 305,
    name: 'å¸è¡€',
    description: 'æ”»å‡»æ—¶æ¢å¤é€ æˆä¼¤å®³20%çš„ç”Ÿå‘½',
    type: 'petLearnablePassive',
    rarity: 'common',
    tier: 1,
    maxLevel: 10,
    effect: 'lifesteal',
    lifestealPercent: 20,
    petExclusive: true
  },
  {
    id: 306,
    name: 'ç†Ÿç»ƒæ–½æ³•',
    description: 'å¢åŠ 15%æ–½æ³•æ¦‚ç‡ï¼Œæ‰€æœ‰ä¸»åŠ¨æŠ€èƒ½å†·å´å‡å°‘1å›åˆ',
    type: 'petLearnablePassive',
    rarity: 'common',
    tier: 1,
    maxLevel: 10,
    effect: 'castMastery',
    castChanceBonus: 15,
    cdReduction: 1,
    petExclusive: true
  },
  {
    id: 307,
    name: 'å†ç”Ÿ',
    description: 'æ¯å›åˆå›å¤15%çš„æœ€å¤§ç”Ÿå‘½å€¼',
    type: 'petLearnablePassive',
    rarity: 'common',
    tier: 1,
    maxLevel: 10,
    effect: 'regen',
    regenPercent: 15,
    petExclusive: true
  },
  // ä¸­çº§æ¡£ä½ - è¢«åŠ¨æŠ€èƒ½ (308-314)
  {
    id: 308,
    name: 'é«˜çº§å¼ºå£®',
    description: 'å¢åŠ å® ç‰©ç­‰çº§Ã—20ç‚¹ç”Ÿå‘½å€¼',
    type: 'petLearnablePassive',
    rarity: 'rare',
    tier: 2,
    maxLevel: 10,
    effect: 'hpBonus',
    levelMultiplier: 20,
    petExclusive: true
  },
  {
    id: 309,
    name: 'é«˜çº§å¥½æ–—',
    description: 'å¢åŠ å® ç‰©ç­‰çº§Ã—6ç‚¹æ”»å‡»',
    type: 'petLearnablePassive',
    rarity: 'rare',
    tier: 2,
    maxLevel: 10,
    effect: 'attackBonus',
    levelMultiplier: 6,
    petExclusive: true
  },
  {
    id: 310,
    name: 'é«˜çº§ç¡¬åŒ–',
    description: 'å¢åŠ å® ç‰©ç­‰çº§Ã—4ç‚¹é˜²å¾¡',
    type: 'petLearnablePassive',
    rarity: 'rare',
    tier: 2,
    maxLevel: 10,
    effect: 'defenseBonus',
    levelMultiplier: 4,
    petExclusive: true
  },
  {
    id: 311,
    name: 'é«˜çº§è¿å‡»',
    description: 'æ”»å‡»æ—¶æœ‰40%å‡ ç‡è¿ç»­å¯¹æ•Œäººé€ æˆ2-3æ¬¡ä¼¤å®³',
    type: 'petLearnablePassive',
    rarity: 'epic',
    tier: 3,
    maxLevel: 10,
    effect: 'multiHit',
    hitChance: 40,
    minHitCount: 2,
    maxHitCount: 3,
    petExclusive: true
  },
  {
    id: 312,
    name: 'é«˜çº§ç†Ÿç»ƒæ–½æ³•',
    description: 'å¢åŠ 25%æ–½æ³•æ¦‚ç‡ï¼Œæ‰€æœ‰ä¸»åŠ¨æŠ€èƒ½å†·å´å‡å°‘2å›åˆ',
    type: 'petLearnablePassive',
    rarity: 'epic',
    tier: 3,
    maxLevel: 10,
    effect: 'castMastery',
    castChanceBonus: 25,
    cdReduction: 2,
    petExclusive: true
  },
  {
    id: 313,
    name: 'æˆ˜åœºå—…è§‰',
    description: 'æé«˜10%é—ªé¿ç‡ä¸10%æš´å‡»ç‡ï¼Œå¯¹50%è¡€ä»¥ä¸‹æ•Œäººé€ æˆ20%é¢å¤–ä¼¤å®³',
    type: 'petLearnablePassive',
    rarity: 'rare',
    tier: 2,
    maxLevel: 10,
    effect: 'battleInstinct',
    dodgeBonus: 10,
    critRateBonus: 10,
    executeDamageBonus: 20,
    executeThreshold: 50,
    petExclusive: true
  },
  {
    id: 314,
    name: 'è¶…çº§å¥½æˆ˜',
    description: 'å¢åŠ å® ç‰©ç­‰çº§Ã—10ç‚¹æ”»å‡»ï¼Œå¹¶å¢åŠ 25%æš´å‡»ç‡',
    type: 'petLearnablePassive',
    rarity: 'epic',
    tier: 3,
    maxLevel: 10,
    effect: 'attackBonus',
    levelMultiplier: 10,
    critRateBonus: 25,
    petExclusive: true
  },
  // åˆçº§æ¡£ä½ - ä¸»åŠ¨æŠ€èƒ½ (315-317)
  {
    id: 315,
    name: 'å†°å°',
    description: 'é€ æˆ150%ç‰©ç†ä¼¤å®³å¹¶æœ‰35%å‡ ç‡å†°å†»æ•Œäºº1å›åˆ',
    type: 'petLearnableActive',
    rarity: 'common',
    tier: 1,
    maxLevel: 10,
    baseDamageMultiplier: 1.5,
    effect: 'freeze',
    freezeChance: 35,
    freezeDuration: 1,
    cooldown: 4,
    petExclusive: true
  },
  {
    id: 316,
    name: 'çŒªåˆšçƒˆ',
    description: 'å˜²è®½2ä¸ªæ•Œäººæ”»å‡»è‡ªå·±ï¼ŒæŒç»­2å›åˆ',
    type: 'petLearnableActive',
    rarity: 'common',
    tier: 1,
    maxLevel: 10,
    effect: 'taunt',
    tauntCount: 2,
    effectDuration: 2,
    cooldown: 5,
    petExclusive: true
  },
  {
    id: 317,
    name: 'è‡ªç„¶æ»‹å…»',
    description: '3å›åˆå†…æ¯å›åˆå›å¤10%ç”Ÿå‘½å€¼ï¼Œé˜²å¾¡åŠ›å¢åŠ 10%',
    type: 'petLearnableActive',
    rarity: 'common',
    tier: 1,
    maxLevel: 10,
    effect: 'naturalBlessing',
    regenPercent: 10,
    defenseBonus: 10,
    effectDuration: 3,
    cooldown: 5,
    petExclusive: true
  },
  // ä¸­çº§æ¡£ä½ - ä¸»åŠ¨æŠ€èƒ½ (318-321)
  {
    id: 318,
    name: 'è¶…çº§èµ›äºšäºº',
    description: 'å¢åŠ è‡ªèº«35%æ”»å‡»åŠ›ã€20%æš´å‡»ç‡ï¼Œä½†é˜²å¾¡åŠ›é™ä½10%ï¼ŒæŒç»­3å›åˆ',
    type: 'petLearnableActive',
    rarity: 'epic',
    tier: 3,
    maxLevel: 10,
    effect: 'superSaiyan',
    attackBonus: 35,
    critRateBonus: 20,
    defensePenalty: 10,
    effectDuration: 3,
    cooldown: 6,
    petExclusive: true
  },
  {
    id: 319,
    name: 'çŒæ€æ ‡è®°',
    description: 'æ ‡è®°æ•Œäººï¼Œé˜Ÿå‹æ”»å‡»è¯¥ç›®æ ‡æ—¶æœ‰30%æ¦‚ç‡è§¦å‘50%é¢å¤–ä¼¤å®³ï¼ŒæŒç»­3å›åˆ',
    type: 'petLearnableActive',
    rarity: 'rare',
    tier: 2,
    maxLevel: 10,
    effect: 'huntMark',
    triggerChance: 30,
    bonusDamage: 50,
    effectDuration: 3,
    cooldown: 6,
    petExclusive: true
  },
  {
    id: 320,
    name: 'æš´æ€’ä¸´ç•Œ',
    description: 'ç”Ÿå‘½ä½äº40%æ—¶è§¦å‘ï¼Œå›å¤åˆ°60%ç”Ÿå‘½å€¼å¹¶å¢åŠ 10%æ”»é˜²ï¼ŒæŒç»­2å›åˆ',
    type: 'petLearnableActive',
    rarity: 'rare',
    tier: 2,
    maxLevel: 10,
    effect: 'rageThreshold',
    triggerThreshold: 40,
    healTo: 60,
    statBonus: 10,
    effectDuration: 2,
    cooldown: 5,
    petExclusive: true
  },
  {
    id: 321,
    name: 'å…±ç”Ÿæ²»æ„ˆ',
    description: 'å® ç‰©ä¸ä¸»äººå¹³å‡åˆ†é…ç”Ÿå‘½å€¼',
    type: 'petLearnableActive',
    rarity: 'epic',
    tier: 3,
    maxLevel: 10,
    effect: 'sharedHealing',
    cooldown: 6,
    petExclusive: true
  },
  // é«˜çº§æ¡£ä½ - ä¸»åŠ¨æŠ€èƒ½ (322-324)
  {
    id: 322,
    name: 'æƒŠè™åç‹—æŒ',
    description: 'è¿ç»­å¯¹æ•Œäººè¿›è¡Œ1-9æ¬¡è‡´å‘½æ‰“å‡»ï¼Œæ¯æ¬¡é€ æˆ80%ä¼¤å®³',
    type: 'petLearnableActive',
    rarity: 'epic',
    tier: 3,
    maxLevel: 10,
    baseDamageMultiplier: 0.8,
    effect: 'multiStrike',
    minHitCount: 1,
    maxHitCount: 9,
    cooldown: 8,
    petExclusive: true
  },
  {
    id: 323,
    name: 'ç¥Â·è¶…çº§èµ›äºšäºº',
    description: 'å¢åŠ è‡ªèº«50%æ”»å‡»åŠ›ã€30%æš´å‡»ç‡ï¼Œä½†é˜²å¾¡åŠ›é™ä½10%ï¼ŒæŒç»­3å›åˆ',
    type: 'petLearnableActive',
    rarity: 'epic',
    tier: 3,
    maxLevel: 10,
    effect: 'godSaiyan',
    attackBonus: 50,
    critRateBonus: 30,
    defensePenalty: 10,
    effectDuration: 3,
    cooldown: 6,
    petExclusive: true
  },
  {
    id: 324,
    name: 'æ®‹è¡€åº‡æŠ¤',
    description: 'å›å¤ç›®æ ‡å·²æŸå¤±ç”Ÿå‘½çš„30%ï¼Œä¼˜å…ˆæ²»ç–—è¡€é‡æœ€ä½çš„é˜Ÿå‹',
    type: 'petLearnableActive',
    rarity: 'epic',
    tier: 3,
    maxLevel: 10,
    effect: 'desperateHealing',
    healPercent: 30,
    cooldown: 5,
    petExclusive: true
  }
]

// æŠ€èƒ½ä¹¦æ•°æ®ï¼ˆä»æŠ€èƒ½ç”Ÿæˆï¼‰
export const skillBooks = skills.map(skill => ({
  skillId: skill.id,
  name: `${skill.name}æŠ€èƒ½ä¹¦`,
  rarity: skill.rarity
}))

// è®¡ç®—æŠ€èƒ½ä¼¤å®³å€ç‡
export function getSkillDamage(skill, level) {
  if (skill.type !== 'active') return 0
  return skill.baseDamageMultiplier + skill.levelBonusMultiplier * (level - 1)
}

// è®¡ç®—è¢«åŠ¨æŠ€èƒ½å±æ€§åŠ æˆ
export function getPassiveSkillStats(skill, level) {
  if (skill.type !== 'passive' || !skill.bonusPerLevel) return {}
  const stats = {}
  for (const [stat, perLevel] of Object.entries(skill.bonusPerLevel)) {
    stats[stat] = perLevel * level
  }
  return stats
}

// æŠ€èƒ½å‡çº§æ‰€éœ€ç»éªŒï¼ˆæ ¹æ®ç¨€æœ‰åº¦è°ƒæ•´éš¾åº¦ï¼‰
// ç¨€æœ‰åº¦å€ç‡: common=1, uncommon=1.3, rare=1.6, epic=2, legendary=2.5
const rarityExpMultiplier = {
  common: 1,
  uncommon: 1.5,
  rare: 2,
  epic: 3,
  legendary: 4
}

export function getSkillExpForLevel(level, rarity = 'common') {
  const baseExp = Math.floor(600 * level * (1 + level * 0.45)) // åŸºç¡€ç»éªŒÃ—3
  const multiplier = rarityExpMultiplier[rarity] || 1
  // ç­‰çº§é€’å¢å€ç‡ï¼š1â†’2çº§Ã—3ï¼Œ2â†’3çº§Ã—4ï¼Œ3â†’4çº§Ã—5ï¼Œ4â†’5çº§Ã—6
  let levelMultiplier = 3
  if (level === 2) levelMultiplier = 4
  else if (level === 3) levelMultiplier = 5
  else if (level === 4) levelMultiplier = 6
  else if (level >= 5) levelMultiplier = 7 // 5çº§ä»¥ä¸Šä¿æŒÃ—7
  return Math.floor(baseExp * multiplier * levelMultiplier)
}

// æ ¹æ®æŠ€èƒ½IDè·å–æŠ€èƒ½
export function getSkillById(skillId) {
  return skills.find(s => s.id === skillId)
}

// æŠ€èƒ½ä¹¦æ‰è½é€»è¾‘
export function rollSkillBookDrop(mapId) {
  const droppableSkills = skills.filter(s =>
    s.dropFromMaps && s.dropFromMaps.includes(mapId) && s.dropRate > 0
  )
  for (const skill of droppableSkills) {
    if (Math.random() < skill.dropRate) {
      return { type: 'skillBook', skillId: skill.id }
    }
  }
  return null
}

// è·å–è£…å¤‡å­ç±»å‹é…ç½®
function getSubTypeConfig(slotType) {
  const subTypeMap = {
    armor: armorSubTypes,
    helmet: helmetSubTypes,
    ring: ringSubTypes,
    necklace: necklaceSubTypes,
    boots: bootsSubTypes,
    artifact: artifactSubTypes
  }
  return subTypeMap[slotType] || null
}

// éšæœºè·å–è£…å¤‡ç‰¹æ•ˆï¼ˆé«˜å“è´¨è£…å¤‡æœ‰æ›´é«˜æ¦‚ç‡è·å¾—ç‰¹æ•ˆï¼‰
function rollEquipmentEffect(quality, level) {
  // ç‰¹æ•ˆæ¦‚ç‡ï¼šæ™®é€š5%, ä¼˜ç§€10%, ç²¾è‰¯20%, å²è¯—40%, ä¼ è¯´70%
  const effectChance = {
    white: 5,
    green: 10,
    blue: 20,
    purple: 40,
    orange: 70
  }

  if (Math.random() * 100 >= effectChance[quality]) {
    return null
  }

  const effectKeys = Object.keys(equipmentEffects)
  const effectKey = effectKeys[Math.floor(Math.random() * effectKeys.length)]
  const effectConfig = equipmentEffects[effectKey]

  // æ•ˆæœå€¼éšç­‰çº§å’Œå“è´¨å¢å¼º
  const qualityMult = qualityConfig[quality].statMultiplier
  const levelMult = 1 + level / 100
  const baseValue = effectConfig.valueRange[0] + Math.random() * (effectConfig.valueRange[1] - effectConfig.valueRange[0])
  const value = Math.round(baseValue * qualityMult * levelMult * 10) / 10

  return {
    type: effectKey,
    name: effectConfig.name,
    description: effectConfig.description,
    value,
    icon: effectConfig.icon
  }
}

// æ£€æµ‹è£…å¤‡æ˜¯å¦å±äºæŸä¸ªå¥—è£…
function detectSetBelonging(slotType, subType, quality) {
  // åªæœ‰ç²¾è‰¯åŠä»¥ä¸Šå“è´¨æ‰èƒ½æˆä¸ºå¥—è£…
  if (!['blue', 'purple', 'orange'].includes(quality)) {
    return null
  }

  // 30%æ¦‚ç‡æˆä¸ºå¥—è£…è£…å¤‡
  if (Math.random() > 0.3) {
    return null
  }

  // æ‰¾åˆ°å¯ä»¥åŒ…å«è¯¥æ§½ä½çš„å¥—è£…
  const eligibleSets = Object.entries(equipmentSets).filter(([_, set]) =>
    set.pieces.includes(slotType)
  )

  if (eligibleSets.length === 0) return null

  const [setKey, setData] = eligibleSets[Math.floor(Math.random() * eligibleSets.length)]
  return {
    setId: setKey,
    setName: setData.name,
    setColor: setData.color
  }
}

// ç”Ÿæˆè£…å¤‡å‡½æ•°
export function generateEquipment(level, slotType, forceQuality = null) {
  let quality = forceQuality
  if (!quality) {
    const roll = Math.random() * 100
    let cumulative = 0
    for (const [key, config] of Object.entries(qualityConfig)) {
      cumulative += config.dropRate
      if (roll < cumulative) {
        quality = key
        break
      }
    }
  }
  if (!quality) quality = 'white'

  const qualityData = qualityConfig[quality]
  const template = equipTemplates[slotType]
  const slot = equipSlots[slotType]

  // è®¡ç®—åŸºç¡€å±æ€§
  const stats = {}
  for (const [stat, perLevel] of Object.entries(template)) {
    const value = perLevel * level * qualityData.statMultiplier
    stats[stat] = stat === 'dropRate' ? Math.round(value * 10) / 10 : Math.floor(value)
  }

  // ç”Ÿæˆåç§°å’Œå­ç±»å‹
  let name = ''
  let weaponType = null
  let subType = null
  let subTypeData = null

  if (slotType === 'weapon') {
    // æ­¦å™¨ä½¿ç”¨æ­¦å™¨ç±»å‹ç³»ç»Ÿ
    const types = Object.keys(weaponTypes)
    const typeKey = types[Math.floor(Math.random() * types.length)]
    weaponType = typeKey
    const type = weaponTypes[typeKey]
    stats[type.secondaryStat] = Math.floor(type.secondaryValue * level * qualityData.statMultiplier * 10) / 10
    const prefixIndex = Math.min(Math.floor(level / 10), type.prefixes.length - 1)
    name = `${type.prefixes[prefixIndex]}${type.name}`
  } else {
    // å…¶ä»–è£…å¤‡ä½¿ç”¨å­ç±»å‹ç³»ç»Ÿ
    const subTypeConfig = getSubTypeConfig(slotType)
    if (subTypeConfig) {
      const subTypeKeys = Object.keys(subTypeConfig)
      const subTypeKey = subTypeKeys[Math.floor(Math.random() * subTypeKeys.length)]
      subType = subTypeKey
      subTypeData = subTypeConfig[subTypeKey]

      // åº”ç”¨å­ç±»å‹å±æ€§åŠ æˆ
      for (const [stat, bonus] of Object.entries(subTypeData.statBonus)) {
        if (stats[stat] !== undefined) {
          stats[stat] = Math.floor(stats[stat] * (1 + bonus))
        } else if (bonus > 0) {
          // æ–°å¢å±æ€§
          const baseValue = level * bonus * qualityData.statMultiplier
          stats[stat] = Math.round(baseValue * 10) / 10
        }
      }

      // ç”Ÿæˆåç§°
      const prefixIndex = Math.min(Math.floor(level / 20), subTypeData.prefixes.length - 1)
      const suffixes = equipSuffixes[slotType]
      const suffixIndex = Math.min(Math.floor(level / 10), suffixes.length - 1)
      name = `${subTypeData.prefixes[prefixIndex]}${suffixes[suffixIndex]}`
    } else {
      const suffixes = equipSuffixes[slotType]
      const suffixIndex = Math.min(Math.floor(level / 10), suffixes.length - 1)
      name = suffixes[suffixIndex]
    }
  }

  // è£…å¤‡ç­‰çº§è¦æ±‚ = è£…å¤‡ç­‰çº§ - 5ï¼Œæœ€ä½1çº§
  const requiredLevel = Math.max(1, level - 5)

  // ç”Ÿæˆç‰¹æ•ˆï¼ˆé«˜å“è´¨ã€é«˜ç­‰çº§æ›´å®¹æ˜“è·å¾—ï¼‰
  const effect = rollEquipmentEffect(quality, level)

  // æ£€æµ‹å¥—è£…
  const setInfo = detectSetBelonging(slotType, subType, quality)

  const equipment = {
    id: `${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,
    name,
    slotType,
    weaponType,
    subType,
    subTypeName: subTypeData ? subTypeData.name : null,
    level,
    requiredLevel,
    quality,
    qualityName: qualityData.name,
    qualityColor: qualityData.color,
    stats,
    icon: slot.icon,
    enhanceLevel: 0
  }

  // æ·»åŠ ç‰¹æ•ˆä¿¡æ¯
  if (effect) {
    equipment.effect = effect
    equipment.name = `${effect.icon}${equipment.name}`
  }

  // æ·»åŠ å¥—è£…ä¿¡æ¯
  if (setInfo) {
    equipment.setId = setInfo.setId
    equipment.setName = setInfo.setName
    equipment.setColor = setInfo.setColor
    equipment.name = `ã€${setInfo.setName}ã€‘${equipment.name}`
  }

  return equipment
}

// ==================== è£…å¤‡å¼ºåŒ–ç³»ç»Ÿ ====================

// å¼ºåŒ–æˆåŠŸç‡ï¼ˆ+6ä¹‹åå¼€å§‹æœ‰å¤±è´¥æ¦‚ç‡ï¼‰
export function getEnhanceSuccessRate(enhanceLevel) {
  if (enhanceLevel < 6) return 100
  const rates = {
    6: 80,   // +6 -> +7: 80%
    7: 65,   // +7 -> +8: 65%
    8: 50,   // +8 -> +9: 50%
    9: 35    // +9 -> +10: 35%
  }
  return rates[enhanceLevel] || 0
}

// å¼ºåŒ–è´¹ç”¨ï¼ˆåŸºäºè£…å¤‡ç­‰çº§å’Œå½“å‰å¼ºåŒ–ç­‰çº§ï¼‰
export function getEnhanceCost(equipLevel, enhanceLevel) {
  // åŸºç¡€è´¹ç”¨ = è£…å¤‡ç­‰çº§ * 50
  // æ¯çº§å¼ºåŒ–è´¹ç”¨å€å¢
  const baseCost = equipLevel * 50
  const levelMultiplier = Math.pow(1.5, enhanceLevel)
  return Math.floor(baseCost * levelMultiplier)
}

// å¼ºåŒ–å¤±è´¥æ—¶æ‰è½çš„ç­‰çº§æ•°ï¼ˆ1-3ï¼‰
export function getEnhanceDropLevels(enhanceLevel) {
  if (enhanceLevel <= 6) return 0
  // +7åŠä»¥ä¸Šå¤±è´¥ä¼šæ‰1-3çº§
  const maxDrop = Math.min(3, enhanceLevel - 5)
  return Math.floor(Math.random() * maxDrop) + 1
}

// è®¡ç®—å¼ºåŒ–åçš„å±æ€§åŠ æˆï¼ˆæ¯çº§+5%ï¼‰
export function getEnhanceBonus(enhanceLevel) {
  // +1=5%, +2=10%, +3=15%, ..., +10=50%
  return enhanceLevel * 0.05
}

// è®¡ç®—å¼ºåŒ–åçš„å®é™…å±æ€§å€¼
export function getEnhancedStatValue(baseValue, enhanceLevel) {
  const bonus = getEnhanceBonus(enhanceLevel)
  return baseValue * (1 + bonus)
}

// ==================== å® ç‰©ç³»ç»Ÿ ====================

// å® ç‰©å“è´¨é…ç½®
export const petQualityConfig = {
  white: { name: 'æ™®é€š', color: '#ffffff', statMultiplier: 1, captureRate: 15 },
  green: { name: 'ä¼˜ç§€', color: '#2ecc71', statMultiplier: 1.3, captureRate: 10 },
  blue: { name: 'ç²¾è‰¯', color: '#3498db', statMultiplier: 1.6, captureRate: 6 },
  purple: { name: 'å²è¯—', color: '#9b59b6', statMultiplier: 2, captureRate: 3 },
  orange: { name: 'ä¼ è¯´', color: '#e67e22', statMultiplier: 2.5, captureRate: 1 }
}

// å® ç‰©ç§ç±»ï¼ˆæ¯ä¸ªåœ°å›¾å¯æ•è·çš„å® ç‰©ï¼‰
// å® ç‰©ç§ç±»ï¼ˆæ¯ä¸ªåœ°å›¾å¯æ•è·çš„å® ç‰©ï¼‰
// fixedSkills: å­µåŒ–æ—¶å›ºå®šæºå¸¦çš„æŠ€èƒ½
// hiddenSkill: éšè—æŠ€èƒ½ï¼ˆ10%å‡ ç‡è·å¾—ï¼‰
// role: å® ç‰©å®šä½
export const petTypes = [
  // æ–°æ‰‹æ‘
  { id: 1, name: 'å°ç‹ç‹¸', mapId: 1, baseLevel: 1, icon: 'ğŸ¦Š', role: 'æ²»ç–—', fixedSkills: [101], hiddenSkill: 201 },
  { id: 2, name: 'é‡å…”ç²¾', mapId: 1, baseLevel: 2, icon: 'ğŸ°', role: 'è¾…åŠ©', fixedSkills: [102], hiddenSkill: 202 },
  // é»‘é£æ—
  { id: 3, name: 'é»‘ç‹¼', mapId: 2, baseLevel: 8, icon: 'ğŸº', role: 'è¾“å‡º', fixedSkills: [103], hiddenSkill: 203 },
  { id: 4, name: 'æ¯’è›‡', mapId: 2, baseLevel: 10, icon: 'ğŸ', role: 'æŒç»­ä¼¤å®³', fixedSkills: [104], hiddenSkill: 204 },
  // è½æ—¥å³°
  { id: 5, name: 'ç«é¸¦', mapId: 3, baseLevel: 18, icon: 'ğŸ¦', role: 'çˆ†å‘', fixedSkills: [105], hiddenSkill: 205 },
  { id: 6, name: 'çŸ³å‚€å„¡', mapId: 3, baseLevel: 20, icon: 'ğŸ—¿', role: 'å¦å…‹', fixedSkills: [106], hiddenSkill: 206 },
  // è¡€æœˆè°·
  { id: 7, name: 'è¡€è ', mapId: 4, baseLevel: 28, icon: 'ğŸ¦‡', role: 'ç»­èˆª', fixedSkills: [107], hiddenSkill: 207 },
  { id: 8, name: 'éª·é«…å…µ', mapId: 4, baseLevel: 30, icon: 'ğŸ’€', role: 'æ§åˆ¶', fixedSkills: [108], hiddenSkill: 208 },
  // é¾™è„Šå±±è„‰
  { id: 9, name: 'å¹¼é¾™', mapId: 5, baseLevel: 38, icon: 'ğŸ²', role: 'ç¾¤æ”»', fixedSkills: [109], hiddenSkill: 209 },
  { id: 10, name: 'é›·é¹°', mapId: 5, baseLevel: 40, icon: 'ğŸ¦…', role: 'æ§åˆ¶', fixedSkills: [110], hiddenSkill: 210 },
  // å¤©é­”å³¡
  { id: 11, name: 'é­”çµ', mapId: 6, baseLevel: 45, icon: 'ğŸ‘»', role: 'ç©¿é€', fixedSkills: [111], hiddenSkill: 211 },
  { id: 12, name: 'ç‚é­”', mapId: 6, baseLevel: 48, icon: 'ğŸ‘¹', role: 'ç¾¤æ”»', fixedSkills: [112], hiddenSkill: 212 },
  // è™šç©ºè£‚éš™
  { id: 13, name: 'è™šç©ºå…½', mapId: 7, baseLevel: 52, icon: 'ğŸŒ€', role: 'å‡ç›Š', fixedSkills: [113], hiddenSkill: 213 },
  { id: 14, name: 'æ˜Ÿçµ', mapId: 7, baseLevel: 55, icon: 'âœ¨', role: 'å¢ç›Š', fixedSkills: [114], hiddenSkill: 214 },
  // æ··æ²Œæ·±æ¸Š
  { id: 15, name: 'æ··æ²Œå¹¼å…½', mapId: 8, baseLevel: 58, icon: 'ğŸŒ‘', role: 'æ··ä¹±', fixedSkills: [115], hiddenSkill: 215 },
  { id: 16, name: 'è¿œå¤é­”ç¥', mapId: 8, baseLevel: 60, icon: 'ğŸ˜ˆ', role: 'æ¯ç­', fixedSkills: [116], hiddenSkill: 216 },
  // ç¥é­”æˆ˜åœº (mapId: 12)
  { id: 17, name: 'æˆ˜é­‚', mapId: 12, baseLevel: 62, icon: 'âš”ï¸', role: 'ç‹‚æš´', fixedSkills: [117], hiddenSkill: 217 },
  { id: 18, name: 'é­”ç¥æ®‹å¿µ', mapId: 12, baseLevel: 66, icon: 'ğŸ‘¿', role: 'ç©¿é€', fixedSkills: [118], hiddenSkill: 218 },
  // ä¹å¹½å†¥ç•Œ (mapId: 13)
  { id: 19, name: 'å†¥æ²³çµè›‡', mapId: 13, baseLevel: 68, icon: 'ğŸ‰', role: 'æŒç»­ä¼¤å®³', fixedSkills: [119], hiddenSkill: 219 },
  { id: 20, name: 'åˆ¤å®˜é¬¼', mapId: 13, baseLevel: 72, icon: 'ğŸ‘º', role: 'å‡ç›Š', fixedSkills: [120], hiddenSkill: 220 },
  // ä»™ç•Œè¾¹å¢ƒ (mapId: 14)
  { id: 21, name: 'ä»™é¹¤', mapId: 14, baseLevel: 75, icon: 'ğŸ•Šï¸', role: 'æ²»ç–—', fixedSkills: [121], hiddenSkill: 221 },
  { id: 22, name: 'å¤©å…µå‚€å„¡', mapId: 14, baseLevel: 78, icon: 'ğŸ¤–', role: 'å¦å…‹', fixedSkills: [122], hiddenSkill: 222 },
  // å¤ªè™šæ˜ŸåŸŸ (mapId: 15)
  { id: 23, name: 'æ˜Ÿè¾°å¹¼å…½', mapId: 15, baseLevel: 82, icon: 'ğŸŒŸ', role: 'ç¾¤æ”»', fixedSkills: [123], hiddenSkill: 223 },
  { id: 24, name: 'è™šç©ºåå™¬è€…', mapId: 15, baseLevel: 86, icon: 'ğŸ•³ï¸', role: 'å¸è¡€', fixedSkills: [124], hiddenSkill: 224 },
  // ä¸‡å¦–åœ£åœ° (mapId: 16)
  { id: 25, name: 'ä¹å°¾å¤©ç‹', mapId: 16, baseLevel: 88, icon: 'ğŸ¦Š', role: 'é­…æƒ‘', fixedSkills: [125], hiddenSkill: 225 },
  { id: 26, name: 'å¦–çš‡åˆ†èº«', mapId: 16, baseLevel: 91, icon: 'ğŸ‘‘', role: 'å…¨èƒ½', fixedSkills: [126], hiddenSkill: 226 },
  // è¯¸å¤©ç¥åŸŸ (mapId: 17)
  { id: 27, name: 'æŠ¤æ³•é‡‘åˆš', mapId: 17, baseLevel: 94, icon: 'ğŸ—¿', role: 'å¦å…‹', fixedSkills: [127], hiddenSkill: 227 },
  { id: 28, name: 'ç¥åŸŸæˆ˜çµ', mapId: 17, baseLevel: 96, icon: 'âš¡', role: 'çˆ†å‘', fixedSkills: [128], hiddenSkill: 228 },
  // é¸¿è’™ç§˜å¢ƒ (mapId: 18)
  { id: 29, name: 'é¸¿è’™å¹¼å…½', mapId: 18, baseLevel: 98, icon: 'ğŸŒŒ', role: 'æ··æ²Œ', fixedSkills: [129], hiddenSkill: 229 },
  { id: 30, name: 'å¤ªåˆç¥å…½', mapId: 18, baseLevel: 100, icon: 'ğŸ²', role: 'ç©¶æ', fixedSkills: [130], hiddenSkill: 230 }
]

// æ ¹æ®åœ°å›¾è·å–å¯æ•è·çš„å® ç‰©
export function getPetsByMap(mapId) {
  return petTypes.filter(p => p.mapId === mapId)
}

// èµ„è´¨ç³»æ•°è®¡ç®—ï¼ˆèµ„è´¨1-10å¯¹åº”0.55-1.0çš„æˆé•¿ç³»æ•°ï¼‰
export function getAptitudeMultiplier(aptitude) {
  return 0.5 + aptitude * 0.05
}

// è®¡ç®—å® ç‰©æŸä¸€çº§çš„å±æ€§ï¼ˆåŸºäºåˆå§‹å±æ€§+ç­‰çº§æˆé•¿ï¼‰
export function calculatePetStats(level, quality, aptitude) {
  const qualityData = petQualityConfig[quality]
  const qualityMult = qualityData.statMultiplier
  const aptMult = getAptitudeMultiplier(aptitude)

  // ç­‰çº§æˆé•¿åŠ æˆï¼ˆæ¯20çº§é¢å¤–+25%æˆé•¿ç‡ï¼‰
  const levelBonus = 1 + Math.floor(level / 20) * 0.25

  // åŸºç¡€æˆé•¿å€¼ï¼ˆä¸ç©å®¶ç›¸è¿‘ï¼‰
  // å® ç‰©åŸºç¡€æ¯çº§: HP+8, æ”»å‡»+3, é˜²å¾¡+2
  const hpGrowth = 8 * aptMult * qualityMult * levelBonus
  const atkGrowth = 3 * aptMult * qualityMult * levelBonus
  const defGrowth = 2 * aptMult * qualityMult * levelBonus

  // åˆå§‹å±æ€§ + ç­‰çº§æˆé•¿ + ç­‰çº§æŒ‡æ•°æˆé•¿
  const baseHp = Math.floor(100 + level * hpGrowth + Math.pow(level, 1.2) * aptMult)
  const baseAttack = Math.floor(12 + level * atkGrowth + Math.pow(level, 1.1) * aptMult * 0.5)
  const baseDefense = Math.floor(6 + level * defGrowth + Math.pow(level, 1.05) * aptMult * 0.3)

  // æš´å‡»å’Œé—ªé¿éšç­‰çº§æˆé•¿
  const critRate = Math.floor(5 + level * 0.1 * aptMult)
  const dodge = Math.floor(3 + level * 0.08 * aptMult)

  return { baseHp, baseAttack, baseDefense, critRate, dodge }
}

// ç”Ÿæˆå® ç‰©å®ä¾‹
export function generatePet(petTypeId, level, forceQuality = null, maxAptitude = 8, forceHiddenSkill = null) {
  const petType = petTypes.find(p => p.id === petTypeId)
  if (!petType) return null

  // éšæœºå“è´¨
  let quality = forceQuality
  if (!quality) {
    const roll = Math.random() * 100
    if (roll < 1) quality = 'orange'
    else if (roll < 5) quality = 'purple'
    else if (roll < 15) quality = 'blue'
    else if (roll < 35) quality = 'green'
    else quality = 'white'
  }

  const qualityData = petQualityConfig[quality]

  // éšæœºèµ„è´¨ï¼ˆ1åˆ°maxAptitudeï¼Œé«˜èµ„è´¨æ¦‚ç‡ä½ï¼‰
  // èµ„è´¨åˆ†å¸ƒï¼šä½èµ„è´¨å¤šï¼Œé«˜èµ„è´¨å°‘
  let aptitude
  const aptRoll = Math.random() * 100
  if (aptRoll < 5 && maxAptitude >= 8) aptitude = Math.min(8, maxAptitude)        // 5%æ¦‚ç‡æœ€é«˜èµ„è´¨
  else if (aptRoll < 15 && maxAptitude >= 7) aptitude = Math.min(7, maxAptitude)  // 10%æ¦‚ç‡7èµ„è´¨
  else if (aptRoll < 30 && maxAptitude >= 6) aptitude = Math.min(6, maxAptitude)  // 15%æ¦‚ç‡6èµ„è´¨
  else if (aptRoll < 50 && maxAptitude >= 5) aptitude = Math.min(5, maxAptitude)  // 20%æ¦‚ç‡5èµ„è´¨
  else if (aptRoll < 70 && maxAptitude >= 4) aptitude = Math.min(4, maxAptitude)  // 20%æ¦‚ç‡4èµ„è´¨
  else if (aptRoll < 85 && maxAptitude >= 3) aptitude = Math.min(3, maxAptitude)  // 15%æ¦‚ç‡3èµ„è´¨
  else if (aptRoll < 95 && maxAptitude >= 2) aptitude = Math.min(2, maxAptitude)  // 10%æ¦‚ç‡2èµ„è´¨
  else aptitude = 1                                                                // 5%æ¦‚ç‡1èµ„è´¨

  // è®¡ç®—å±æ€§
  const stats = calculatePetStats(level, quality, aptitude)

  // ä½¿ç”¨å›ºå®šæŠ€èƒ½ï¼ˆæ¯ä¸ªå® ç‰©æœ‰ç‰¹å®šçš„å›ºå®šæŠ€èƒ½ï¼‰
  const petSkills = [...(petType.fixedSkills || [])]

  // éšè—æŠ€èƒ½ï¼šå¦‚æœä¼ å…¥äº†å‚æ•°åˆ™ä½¿ç”¨ï¼Œå¦åˆ™10%æ¦‚ç‡è·å¾—
  let hasHiddenSkill = forceHiddenSkill !== null ? forceHiddenSkill : (Math.random() < 0.1)
  if (hasHiddenSkill && petType.hiddenSkill) {
    petSkills.push(petType.hiddenSkill)
  } else {
    hasHiddenSkill = false // å¦‚æœæ²¡æœ‰éšè—æŠ€èƒ½å®šä¹‰ï¼Œè®¾ä¸ºfalse
  }

  return {
    id: `pet_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,
    typeId: petType.id,
    name: petType.name,
    icon: petType.icon,
    role: petType.role,
    level,
    exp: 0,
    quality,
    qualityName: qualityData.name,
    qualityColor: qualityData.color,
    // èµ„è´¨ï¼ˆ1-10ï¼‰
    aptitude,
    // å±æ€§
    baseHp: stats.baseHp,
    baseAttack: stats.baseAttack,
    baseDefense: stats.baseDefense,
    critRate: stats.critRate || 5,
    critDamage: 50 + Math.floor(level / 5),
    critResist: 0,
    dodge: stats.dodge || 3,
    hit: 95 + Math.floor(level / 10),
    // æŠ€èƒ½ï¼ˆæŠ€èƒ½IDæ•°ç»„ï¼‰
    skills: petSkills,
    skillLevels: petSkills.reduce((acc, id) => { acc[id] = 1; return acc }, {}),
    hasHiddenSkill,
    // å½“å‰çŠ¶æ€
    currentHp: stats.baseHp
  }
}

// è®¡ç®—å® ç‰©å‡çº§æ‰€éœ€ç»éªŒ
export function getPetExpForLevel(level) {
  return Math.floor(100 * level * (1 + level * 0.2))
}

// è®¡ç®—å® ç‰©æˆ˜æ–—å±æ€§ï¼ˆåŒ…å«è¢«åŠ¨æŠ€èƒ½åŠ æˆï¼‰
export function getPetStats(pet) {
  if (!pet) return null

  // åŸºç¡€å±æ€§ï¼ˆæ·»åŠ é»˜è®¤å€¼å…¼å®¹æ—§å­˜æ¡£ï¼‰
  let stats = {
    maxHp: pet.baseHp || 100,
    attack: pet.baseAttack || 10,
    defense: pet.baseDefense || 5,
    critRate: pet.critRate || 5,
    critDamage: pet.critDamage || 50,
    dodge: pet.dodge || 3,
    hit: pet.hit || 95,
    critResist: pet.critResist || 0,
    // ç‰¹æ®Šæ•ˆæœï¼ˆç”¨äºæˆ˜æ–—è®¡ç®—ï¼‰
    executeDamageBonus: 0,
    executeThreshold: 0,
    damageBonus: 0
  }

  // è®¡ç®—è¢«åŠ¨æŠ€èƒ½åŠ æˆ
  if (pet.skills && pet.skills.length > 0) {
    for (const skillId of pet.skills) {
      const skill = skills.find(s => s.id === skillId)
      if (!skill) continue

      // åªå¤„ç†è¢«åŠ¨æŠ€èƒ½
      if (skill.type === 'petLearnablePassive' || (skill.type === 'petSkill' && skill.cooldown === 0)) {
        const skillLevel = pet.skillLevels?.[skillId] || 1
        const levelMult = 1 + (skillLevel - 1) * 0.1  // æ¯çº§+10%æ•ˆæœ

        // ç”Ÿå‘½åŠ æˆ
        if (skill.effect === 'hpBonus' && skill.levelMultiplier) {
          stats.maxHp += Math.floor(pet.level * skill.levelMultiplier * levelMult)
        }
        // æ”»å‡»åŠ æˆ
        if (skill.effect === 'attackBonus' && skill.levelMultiplier) {
          stats.attack += Math.floor(pet.level * skill.levelMultiplier * levelMult)
        }
        // é˜²å¾¡åŠ æˆ
        if (skill.effect === 'defenseBonus' && skill.levelMultiplier) {
          stats.defense += Math.floor(pet.level * skill.levelMultiplier * levelMult)
        }
        // æš´å‡»ç‡åŠ æˆ
        if (skill.critRateBonus) {
          stats.critRate += Math.floor(skill.critRateBonus * levelMult)
        }
        // æš´å‡»ä¼¤å®³åŠ æˆ
        if (skill.critDamageBonus) {
          stats.critDamage += Math.floor(skill.critDamageBonus * levelMult)
        }
        // é—ªé¿åŠ æˆ
        if (skill.dodgeBonus) {
          stats.dodge += Math.floor(skill.dodgeBonus * levelMult)
        }
        // å‘½ä¸­åŠ æˆ
        if (skill.hitBonus) {
          stats.hit += Math.floor(skill.hitBonus * levelMult)
        }
        // æ–©æ€æ•ˆæœ
        if (skill.executeDamageBonus) {
          stats.executeDamageBonus += Math.floor(skill.executeDamageBonus * levelMult)
          stats.executeThreshold = Math.max(stats.executeThreshold, skill.executeThreshold || 0)
        }
        // é€šç”¨ä¼¤å®³åŠ æˆ
        if (skill.damageBonus) {
          stats.damageBonus += Math.floor(skill.damageBonus * levelMult)
        }
      }
    }
  }

  return stats
}

// ç”Ÿæˆå® ç‰©è›‹ï¼ˆåªæœ‰10/100/200å±‚å¯è·å¾—ï¼‰
export function generatePetEgg(towerFloor) {
  // æ ¹æ®å±‚æ•°å†³å®šè›‹çš„å“è´¨èŒƒå›´å’Œèµ„è´¨ä¸Šé™
  let qualityPool = []
  let eggName = ''
  let maxAptitude = 8 // å­µåŒ–æœ€é«˜èµ„è´¨8

  if (towerFloor === 10) {
    // 10å±‚ï¼šæœ€é«˜ç²¾è‰¯ï¼Œèµ„è´¨ä¸Šé™6
    qualityPool = ['white', 'white', 'green', 'green', 'blue']
    eggName = 'åˆçº§å® ç‰©è›‹'
    maxAptitude = 6
  } else if (towerFloor === 100) {
    // 100å±‚ï¼šæœ€é«˜å²è¯—ï¼Œèµ„è´¨ä¸Šé™7
    qualityPool = ['green', 'blue', 'blue', 'purple']
    eggName = 'é«˜çº§å® ç‰©è›‹'
    maxAptitude = 7
  } else if (towerFloor === 200) {
    // 200å±‚ï¼šæœ€é«˜ä¼ è¯´ï¼Œèµ„è´¨ä¸Šé™8
    qualityPool = ['blue', 'purple', 'purple', 'orange']
    eggName = 'è‡³å°Šå® ç‰©è›‹'
    maxAptitude = 8
  } else {
    return null // å…¶ä»–å±‚æ•°ä¸æ‰è½
  }

  const quality = qualityPool[Math.floor(Math.random() * qualityPool.length)]
  const qualityData = petQualityConfig[quality]

  // åœ¨ç”Ÿæˆè›‹æ—¶å°±å†³å®šå® ç‰©ç±»å‹å’Œæ˜¯å¦æœ‰éšè—æŠ€èƒ½ï¼ˆé˜²æ­¢åˆ·æ¡£ï¼‰
  const petType = petTypes[Math.floor(Math.random() * petTypes.length)]
  const hasHiddenSkill = Math.random() < 0.1 // 10%æ¦‚ç‡æœ‰éšè—æŠ€èƒ½

  return {
    id: `petegg_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,
    type: 'petEgg',
    name: eggName,
    quality,
    qualityName: qualityData.name,
    qualityColor: qualityData.color,
    towerFloor, // è®°å½•è·å–æ—¶çš„å±‚æ•°ï¼Œç”¨äºå†³å®šå® ç‰©ç­‰çº§
    maxAptitude, // èµ„è´¨ä¸Šé™
    petTypeId: petType.id, // é¢„å…ˆå†³å®šçš„å® ç‰©ç±»å‹
    hasHiddenSkill // é¢„å…ˆå†³å®šæ˜¯å¦æœ‰éšè—æŠ€èƒ½
  }
}

// ç”Ÿæˆèµ„è´¨ä¸¹
export function generateAptitudePill(towerFloor) {
  if (towerFloor === 90) {
    return {
      id: `aptpill_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,
      type: 'aptitudePill',
      name: 'èµ„è´¨ä¸¹',
      tier: 1,
      minBoost: 0.05,
      maxBoost: 0.09,
      maxAptitude: 9, // æœ€é«˜åŸ¹å…»åˆ°9
      color: '#3498db'
    }
  } else if (towerFloor === 190) {
    return {
      id: `aptpill_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,
      type: 'aptitudePill',
      name: 'é«˜çº§èµ„è´¨ä¸¹',
      tier: 2,
      minBoost: 0.01,
      maxBoost: 0.05,
      maxAptitude: 10, // æœ€é«˜åŸ¹å…»åˆ°10
      color: '#9b59b6'
    }
  }
  return null
}

// å­µåŒ–å® ç‰©è›‹ï¼ˆè¿”å›å® ç‰©æˆ–nullï¼‰
export function hatchPetEgg(petEgg) {
  if (!petEgg || petEgg.type !== 'petEgg') return null

  // ä½¿ç”¨è›‹ä¸­é¢„å…ˆå†³å®šçš„å® ç‰©ç±»å‹ï¼ˆé˜²æ­¢åˆ·æ¡£ï¼‰
  // å…¼å®¹æ—§å­˜æ¡£ï¼šå¦‚æœæ²¡æœ‰é¢„å…ˆå†³å®šï¼Œåˆ™éšæœºé€‰æ‹©
  let petTypeId = petEgg.petTypeId
  if (!petTypeId) {
    const petType = petTypes[Math.floor(Math.random() * petTypes.length)]
    petTypeId = petType.id
  }

  // å® ç‰©ä»1çº§å¼€å§‹
  const petLevel = 1

  // ä½¿ç”¨è›‹çš„èµ„è´¨ä¸Šé™
  const maxAptitude = petEgg.maxAptitude || 8

  // ä½¿ç”¨è›‹ä¸­é¢„å…ˆå†³å®šçš„éšè—æŠ€èƒ½ï¼ˆé˜²æ­¢åˆ·æ¡£ï¼‰
  // å…¼å®¹æ—§å­˜æ¡£ï¼šå¦‚æœæ²¡æœ‰é¢„å…ˆå†³å®šï¼Œåˆ™éšæœºåˆ¤å®š
  const hasHiddenSkill = petEgg.hasHiddenSkill !== undefined ? petEgg.hasHiddenSkill : (Math.random() < 0.1)

  return generatePet(petTypeId, petLevel, petEgg.quality, maxAptitude, hasHiddenSkill)
}

// ========== å® ç‰©æŠ€èƒ½ä¹¦ç³»ç»Ÿ ==========
// å¯å­¦ä¹ æŠ€èƒ½IDèŒƒå›´ï¼š301-324
const petLearnableSkillIds = Array.from({ length: 24 }, (_, i) => 301 + i)

// å® ç‰©æŠ€èƒ½ä¹¦æ‰è½å±‚æ•°é…ç½®
const petSkillBookDropFloors = {
  // åˆçº§å® ç‰©æŠ€èƒ½ä¹¦æ‰è½å±‚æ•°
  basic: [110, 120, 130, 140, 150, 160, 170],
  // ä¸­çº§å® ç‰©æŠ€èƒ½ä¹¦æ‰è½å±‚æ•°
  intermediate: [180, 190],
  // é«˜çº§å® ç‰©æŠ€èƒ½ä¹¦æ‰è½å±‚æ•°
  advanced: [300, 400]
}

// ç”Ÿæˆå® ç‰©æŠ€èƒ½ä¹¦
export function generatePetSkillBook(towerFloor) {
  // æ ¹æ®å±‚æ•°å†³å®šæŠ€èƒ½ä¹¦ç±»å‹
  let bookQuality, bookName, availableTiers

  if (petSkillBookDropFloors.advanced.includes(towerFloor)) {
    // é«˜çº§å® ç‰©æŠ€èƒ½ä¹¦ï¼šå¯å¼€å‡ºå…¨éƒ¨æ¡£ä½
    bookQuality = 'epic'
    bookName = 'é«˜çº§å® ç‰©æŠ€èƒ½ä¹¦'
    availableTiers = [1, 2, 3]
  } else if (petSkillBookDropFloors.intermediate.includes(towerFloor)) {
    // ä¸­çº§å® ç‰©æŠ€èƒ½ä¹¦ï¼šå¯å¼€å‡ºåˆçº§å’Œä¸­çº§
    bookQuality = 'rare'
    bookName = 'ä¸­çº§å® ç‰©æŠ€èƒ½ä¹¦'
    availableTiers = [1, 2]
  } else if (petSkillBookDropFloors.basic.includes(towerFloor)) {
    // åˆçº§å® ç‰©æŠ€èƒ½ä¹¦ï¼šåªèƒ½å¼€å‡ºåˆçº§
    bookQuality = 'common'
    bookName = 'åˆçº§å® ç‰©æŠ€èƒ½ä¹¦'
    availableTiers = [1]
  } else {
    return null // éæŒ‡å®šå±‚æ•°ä¸æ‰è½
  }

  return {
    id: `petskillbook_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,
    type: 'petSkillBook',
    name: bookName,
    quality: bookQuality,
    availableTiers,
    towerFloor
  }
}

// æ£€æŸ¥æŸå±‚æ˜¯å¦æ‰è½å® ç‰©æŠ€èƒ½ä¹¦
export function shouldDropPetSkillBook(towerFloor) {
  return petSkillBookDropFloors.basic.includes(towerFloor) ||
         petSkillBookDropFloors.intermediate.includes(towerFloor) ||
         petSkillBookDropFloors.advanced.includes(towerFloor)
}

// å¼€å¯å® ç‰©æŠ€èƒ½ä¹¦ï¼Œè¿”å›è·å¾—çš„æŠ€èƒ½ID
export function openPetSkillBook(skillBook) {
  if (!skillBook || skillBook.type !== 'petSkillBook') return null

  const availableTiers = skillBook.availableTiers || [1]

  // è·å–å¯å­¦ä¹ æŠ€èƒ½åˆ—è¡¨
  const learnableSkills = skills.filter(s =>
    petLearnableSkillIds.includes(s.id) && availableTiers.includes(s.tier)
  )

  if (learnableSkills.length === 0) return null

  // æ ¹æ®æ¡£ä½å†³å®šæ¦‚ç‡æƒé‡ï¼ˆè¶Šé«˜çº§è¶Šéš¾å¼€ï¼‰
  // tier 1: æƒé‡60
  // tier 2: æƒé‡30
  // tier 3: æƒé‡10
  const weightedSkills = []
  for (const skill of learnableSkills) {
    let weight = 60
    if (skill.tier === 2) weight = 30
    else if (skill.tier === 3) weight = 10

    for (let i = 0; i < weight; i++) {
      weightedSkills.push(skill)
    }
  }

  // éšæœºé€‰æ‹©ä¸€ä¸ªæŠ€èƒ½
  const selectedSkill = weightedSkills[Math.floor(Math.random() * weightedSkills.length)]

  return {
    skillId: selectedSkill.id,
    skillName: selectedSkill.name,
    skillTier: selectedSkill.tier,
    skillRarity: selectedSkill.rarity
  }
}

// è·å–å¯å­¦ä¹ æŠ€èƒ½åˆ—è¡¨ï¼ˆç”¨äºUIå±•ç¤ºï¼‰
export function getPetLearnableSkills() {
  return skills.filter(s => petLearnableSkillIds.includes(s.id))
}
